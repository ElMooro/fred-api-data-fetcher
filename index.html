<svg class="icon" viewBox="0 0 24 24">
    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
    <line x1="12" y1="8" x2="12" y2="16"></line>
    <line x1="8" y1="12" x2="16" y2="12"></line>
</svg>
Add Chart
</button>
</div>
</div>

<!-- Market Status Indicator -->
<div class="market-timer">
<div class="market-status open"></div>
<span>Market Open</span>
<span>|</span>
<span>Closes in 3h 42m</span>
</div>

<!-- Metrics Row -->
<div class="card metric-card">
<div class="metric-title">Current Price</div>
<div class="metric-value">$187.43</div>
<div class="metric-change positive">
<svg class="icon" viewBox="0 0 24 24">
<polyline points="18 15 12 9 6 15"></polyline>
</svg>
+2.5% today
</div>
</div>

<div class="card metric-card">
<div class="metric-title">YTD Return</div>
<div class="metric-value">+24.7%</div>
<div class="metric-change positive">
<svg class="icon" viewBox="0 0 24 24">
<polyline points="18 15 12 9 6 15"></polyline>
</svg>
+5.3% vs S&P 500
</div>
</div>

<div class="card metric-card">
<div class="metric-title">52W High/Low</div>
<div class="metric-value">$198.23 / $124.17</div>
<div class="metric-change">
5.8% below 52W high
</div>
</div>

<div class="card metric-card">
<div class="metric-title">Volatility (30D)</div>
<div class="metric-value">17.8%</div>
<div class="metric-change negative">
<svg class="icon" viewBox="0 0 24 24">
<polyline points="6 9 12 15 18 9"></polyline>
</svg>
-2.3% MoM
</div>
</div>

<!-- Chart Type Tabs -->
<div class="chart-type-tabs">
<div class="chart-type-tab active">Standard</div>
<div class="chart-type-tab">TradingView</div>
<div class="chart-type-tab">Heikin-Ashi</div>
<div class="chart-type-tab">Renko</div>
<div class="chart-type-tab">Point & Figure</div>
<div class="chart-type-tab">Kagi</div>
</div>

<!-- Main Chart with Advanced Tools -->
<div class="card chart-card">
<div class="card-header">
<h3 class="card-title">Advanced Chart with Technical Analysis</h3>
<div class="card-actions">
<button class="btn btn-icon btn-secondary" data-tooltip="Fullscreen">
    <svg class="icon" viewBox="0 0 24 24">
        <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
    </svg>
</button>
<button class="btn btn-icon btn-secondary" data-tooltip="Share">
    <svg class="icon" viewBox="0 0 24 24">
        <circle cx="18" cy="5" r="3"></circle>
        <circle cx="6" cy="12" r="3"></circle>
        <circle cx="18" cy="19" r="3"></circle>
        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
    </svg>
</button>
<button class="btn btn-icon btn-secondary" data-tooltip="Export">
    <svg class="icon" viewBox="0 0 24 24">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="7 10 12 15 17 10"></polyline>
        <line x1="12" y1="15" x2="12" y2="3"></line>
    </svg>
</button>
</div>
</div>

<!-- Chart Comparison Selector -->
<div class="comparison-selector">
<input type="text" class="comparison-input" placeholder="Compare with other symbols...">
<div class="comparison-icon">
<i class="fas fa-search"></i>
</div>
<div class="comparison-tags">
<div class="comparison-tag">
    MSFT
    <div class="comparison-tag-remove">×</div>
</div>
<div class="comparison-tag">
    SPY
    <div class="comparison-tag-remove">×</div>
</div>
</div>
</div>

<!-- Drawing Tools Toolbar -->
<div class="toolbar">
<div class="toolbar-group">
<button class="toolbar-btn active" data-tooltip="Candlestick">
    <svg class="icon" viewBox="0 0 24 24">
        <path d="M7 5v14M17 5v14M7 10h4v4H7zM17 5h-4v4h4zM17 15h-4v4h4z"></path>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Line">
    <svg class="icon" viewBox="0 0 24 24">
        <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="OHLC">
    <svg class="icon" viewBox="0 0 24 24">
        <path d="M5 8h4M5 12h2M5 16h5M19 8h-4M19 12h-2M19 16h-5"></path>
        <path d="M7 4v16M17 4v16"></path>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Area">
    <svg class="icon" viewBox="0 0 24 24">
        <path d="M22 12C22 12 19 18 16 18C13 18 13 12 10 12C7 12 6 18 3 18L3 21L22 21L22 12Z"></path>
        <path d="M22 12C22 12 19 6 16 6C13 6 13 12 10 12C7 12 6 6 3 6L3 3L22 3L22 12Z"></path>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Hollow Candles">
    <i class="fas fa-chess-rook"></i>
</button>
<button class="toolbar-btn" data-tooltip="Heikin-Ashi">
    <i class="fas fa-chart-bar"></i>
</button>
</div>
<div class="toolbar-group">
<button class="toolbar-btn" data-tooltip="Trend Line">
    <svg class="icon" viewBox="0 0 24 24">
        <line x1="4" y1="19" x2="20" y2="5"></line>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Horizontal Line">
    <svg class="icon" viewBox="0 0 24 24">
        <line x1="4" y1="12" x2="20" y2="12"></line>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Channel">
    <svg class="icon" viewBox="0 0 24 24">
        <line x1="4" y1="7" x2="20" y2="7"></line>
        <line x1="4" y1="17" x2="20" y2="17"></line>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Fibonacci">
    <svg class="icon" viewBox="0 0 24 24">
        <line x1="4" y1="19" x2="20" y2="5"></line>
        <line x1="4" y1="14.5" x2="20" y2="14.5"></line>
        <line x1="4" y1="12.5" x2="20" y2="12.5"></line>
        <line x1="4" y1="10" x2="20" y2="10"></line>
        <line x1="4" y1="7.5" x2="20" y2="7.5"></line>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Pitchfork">
    <svg class="icon" viewBox="0 0 24 24">
        <path d="M12 3L4 15h8l-1 6h2l1-6h8L12 3z"></path>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Gann Fan">
    <i class="fas fa-sun"></i>
</button>
</div>
<div class="toolbar-group">
<button class="toolbar-btn" data-tooltip="Rectangle">
    <svg class="icon" viewBox="0 0 24 24">
        <rect x="4" y="6" width="16" height="12"></rect>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Ellipse">
    <svg class="icon" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="8"></circle>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Triangle">
    <svg class="icon" viewBox="0 0 24 24">
        <path d="M12 3L4 18h16L12 3z"></path>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Text">
    <svg class="icon" viewBox="0 0 24 24">
        <line x1="4" y1="6" x2="20" y2="6"></line>
        <line x1="12" y1="6" x2="12" y2="18"></line>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Extension">
    <i class="fas fa-ruler"></i>
</button>
<button class="toolbar-btn" data-tooltip="Ray">
    <i class="fas fa-angle-right"></i>
</button>
</div>
<div class="toolbar-group">
<button class="toolbar-btn" data-tooltip="Measure">
    <svg class="icon" viewBox="0 0 24 24">
        <path d="M2 11h20"></path>
        <path d="M4 11v2"></path>
        <path d="M8 11v2"></path>
        <path d="M12 11v2"></path>
        <path d="M16 11v2"></path>
        <path d="M20 11v2"></path>
        <path d="M2 7v10"></path>
        <path d="M22 7v10"></path>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Brush">
    <svg class="icon" viewBox="0 0 24 24">
        <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
        <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
        <path d="M2 2l7.586 7.586"></path>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Eraser">
    <svg class="icon" viewBox="0 0 24 24">
        <path d="M20 20H9l-7-7c-1.5-1.5-1.5-3.5 0-5l5-5c1.5-1.5 3.5-1.5 5 0l7 7c1.5 1.5 1.5 3.5 0 5l-5 5z"></path>
        <line x1="9" y1="16" x2="14" y2="11"></line>
    </svg>
</button>
<button class="toolbar-btn" data-tooltip="Cursor">
    <i class="fas fa-mouse-pointer"></i>
</button>
<button class="toolbar-btn" data-tooltip="Annotate">
    <i class="fas fa-comment-alt"></i>
</button>
</div>
<div class="toolbar-group">
<button class="toolbar-btn" data-tooltip="Timeframes">
    <i class="fas fa-clock"></i>
</button>
<button class="toolbar-btn" data-tooltip="Templates">
    <i class="fas fa-layer-group"></i>
</button>
<button class="toolbar-btn" data-tooltip="Layouts">
    <i class="fas fa-th-large"></i>
</button>
<button class="toolbar-btn" data-tooltip="Sync Charts">
    <i class="fas fa-sync-alt"></i>
</button>
</div>
</div>

<div class="chart-container">
<canvas id="mainChart"></canvas>
<div class="loading-overlay" id="mainChartLoading">
<div class="spinner"></div>
</div>
</div>

<div class="chart-toolbar">
<div class="chart-toolbar-section">
<button class="btn btn-sm btn-secondary" id="toggle-sma">SMA</button>
<button class="btn btn-sm btn-secondary" id="toggle-ema">EMA</button>
<button class="btn btn-sm btn-secondary" id="toggle-bollinger">Bollinger</button>
<button class="btn btn-sm btn-secondary" id="toggle-ichimoku">Ichimoku</button>
<button class="btn btn-sm btn-secondary" id="toggle-parabolic">Parabolic SAR</button>
<button class="btn btn-sm btn-secondary" id="toggle-supertrend">SuperTrend</button>
</div>
<div class="chart-toolbar-section">
<button class="btn btn-sm btn-secondary" id="toggle-volume">Volume</button>
<button class="btn btn-sm btn-secondary" id="toggle-macd">MACD</button>
<button class="btn btn-sm btn-secondary" id="toggle-rsi">RSI</button>
<button class="btn btn-sm btn-secondary" id="toggle-stoch">Stochastic</button>
<button class="btn btn-sm btn-secondary" id="toggle-adx">ADX</button>
<button class="btn btn-sm btn-secondary" id="toggle-atr">ATR</button>
</div>
<div class="chart-toolbar-section">
<button class="btn btn-sm btn-secondary" id="toggle-vwap">VWAP</button>
<button class="btn btn-sm btn-secondary" id="toggle-pivots">Pivots</button>
<button class="btn btn-sm btn-secondary" id="toggle-fibonacci">Fibonacci</button>
<button class="btn btn-sm btn-secondary" id="toggle-patterns">Patterns</button>
<button class="btn btn-sm btn-secondary" id="toggle-zigzag">ZigZag</button>
<button class="btn btn-sm btn-secondary" id="toggle-cycle">Cycle Lines</button>
</div>
</div>
</div>

<!-- Multi-Timeframe View -->
<div class="card chart-card">
<div class="card-header">
<h3 class="card-title">Multi-Timeframe Analysis</h3>
<div class="card-actions">
<div class="chart-layout-selector">
    <div class="layout-option" data-layout="2x2">
        <div class="layout-row">
            <div class="layout-cell"></div>
            <div class="layout-cell"></div>
        </div>
        <div class="layout-row">
            <div class="layout-cell"></div>
            <div class="layout-cell"></div>
        </div>
    </div>
    <div class="layout-option active" data-layout="2x1">
        <div class="layout-row">
            <div class="layout-cell"></div>
            <div class="layout-cell"></div>
        </div>
    </div>
    <div class="layout-option" data-layout="3x1">
        <div class="layout-row">
            <div class="layout-cell"></div>
            <div class="layout-cell"></div>
            <div class="layout-cell"></div>
        </div>
    </div>
</div>
<button class="btn btn-icon btn-secondary" data-tooltip="Settings">
    <svg class="icon" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="3"></circle>
        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
    </svg>
</button>
</div>
</div>

<div class="multi-chart-grid layout-2x1">
<div class="multi-chart-cell">
<div class="multi-chart-header">
    <div class="multi-chart-title">Daily Chart</div>
    <div class="multi-chart-actions">
        <button class="btn btn-icon btn-secondary btn-sm">
            <i class="fas fa-expand"></i>
        </button>
        <button class="btn btn-icon btn-secondary btn-sm">
            <i class="fas fa-cog"></i>
        </button>
    </div>
</div>
<div class="multi-chart-body">
    <!-- Daily chart will be rendered here -->
</div>
</div>
<div class="multi-chart-cell">
<div class="multi-chart-header">
    <div class="multi-chart-title">Weekly Chart</div>
    <div class="multi-chart-actions">
        <button class="btn btn-icon btn-secondary btn-sm">
            <i class="fas fa-expand"></i>
        </button>
        <button class="btn btn-icon btn-secondary btn-sm">
            <i class="fas fa-cog"></i>
        </button>
    </div>
</div>
<div class="multi-chart-body">
    <!-- Weekly chart will be rendered here -->
</div>
</div>
</div>
</div>

<!-- Advanced Indicators Section -->
<div class="indicators-grid">
<div class="indicator-card">
<div class="indicator-header">
<div class="indicator-title">RSI (14)</div>
<div class="indicator-value">58.34</div>
</div>
<div class="indicator-body">
<div class="indicator-chart">
    <!-- RSI Chart will be rendered here -->
</div>
<div class="indicator-meta">
    <span class="indicator-signal neutral">Neutral</span>
    <span>Trend: Stabilizing</span>
</div>
</div>
</div>

<div class="indicator-card">
<div class="indicator-header">
<div class="indicator-title">MACD (12,26,9)</div>
<div class="indicator-value">+1.45</div>
</div>
<div class="indicator-body">
<div class="indicator-chart">
    <!-- MACD Chart will be rendered here -->
</div>
<div class="indicator-meta">
    <span class="indicator-signal buy">Buy</span>
    <span>Crossover: 5 days ago</span>
</div>
</div>
</div>

<div class="indicator-card">
<div class="indicator-header">
<div class="indicator-title">Stochastic (14,3,3)</div>
<div class="indicator-value">82.6</div>
</div>
<div class="indicator-body">
<div class="indicator-chart">
    <!-- Stochastic Chart will be rendered here -->
</div>
<div class="indicator-meta">
    <span class="indicator-signal sell">Overbought</span>
    <span>K-D Spread: +12.4</span>
</div>
</div>
</div>
</div>

<!-- Volume Profile and Market Profile -->
<div class="card chart-card half">
<div class="card-header">
<h3 class="card-title">Volume Profile Analysis</h3>
<div class="card-actions">
<button class="btn btn-icon btn-secondary" data-tooltip="Fullscreen">
    <svg class="icon" viewBox="0 0 24 24">
        <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
    </svg>
</button>
<button class="btn btn-icon btn-secondary" data-tooltip="Settings">
    <svg class="icon" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="3"></circle>
        <path d="M19.4 15a1.65         .replay-timeline {
flex: 1;
position: relative;
}

.replay-progress {
height: 8px;
width: 100%;
background-color: rgba(0, 0, 0, 0.05);
border-radius: 4px;
position: relative;
}

.dark-theme .replay-progress {
background-color: rgba(255, 255, 255, 0.1);
}

.replay-progress-bar {
position: absolute;
left: 0;
top: 0;
bottom: 0;
width: 30%;
background-color: var(--accent);
border-radius: 4px;
}

.replay-progress-handle {
position: absolute;
width: 16px;
height: 16px;
border-radius: 50%;
background-color: var(--accent);
top: 50%;
left: 30%;
transform: translate(-50%, -50%);
cursor: pointer;
}

.replay-time {
font-size: 13px;
color: var(--medium-gray);
margin-left: 15px;
}

.dark-theme .replay-time {
color: rgba(255, 255, 255, 0.7);
}

.replay-speed {
display: flex;
align-items: center;
gap: 10px;
}

.replay-speed-label {
font-size: 13px;
color: var(--medium-gray);
}

.dark-theme .replay-speed-label {
color: rgba(255, 255, 255, 0.7);
}

.replay-speed-value {
font-weight: 500;
}

/* Custom Chart Type: Kagi */
.custom-chart-container {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
margin-bottom: 20px;
}

.dark-theme .custom-chart-container {
background-color: var(--dark-gray);
}

.custom-chart-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 15px;
}

.custom-chart-title {
font-weight: 500;
}

.custom-chart-params {
display: flex;
gap: 15px;
}

.custom-chart-param {
display: flex;
align-items: center;
gap: 8px;
font-size: 13px;
}

.custom-chart-label {
color: var(--medium-gray);
}

.dark-theme .custom-chart-label {
color: rgba(255, 255, 255, 0.7);
}

.custom-chart-value {
font-weight: 500;
}

.custom-chart-body {
height: 400px;
position: relative;
}

/* Algorithmic Trading Interface */
.algo-trading {
margin-bottom: 20px;
}

.algo-builder {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 20px;
margin-bottom: 20px;
}

.dark-theme .algo-builder {
background-color: var(--dark-gray);
}

.algo-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 20px;
}

.algo-title {
font-size: 18px;
font-weight: 500;
}

.algo-blocks {
display: flex;
gap: 20px;
margin-bottom: 20px;
}

.algo-sidebar {
width: 200px;
background-color: rgba(0, 0, 0, 0.02);
border-radius: var(--border-radius);
padding: 15px;
}

.dark-theme .algo-sidebar {
background-color: rgba(255, 255, 255, 0.05);
}

.algo-sidebar-section {
margin-bottom: 15px;
}

.algo-sidebar-title {
font-weight: 500;
margin-bottom: 10px;
font-size: 14px;
color: var(--medium-gray);
}

.dark-theme .algo-sidebar-title {
color: rgba(255, 255, 255, 0.7);
}

.algo-block {
background-color: var(--white);
border: 1px solid var(--light-gray);
border-radius: var(--border-radius);
padding: 10px;
margin-bottom: 10px;
cursor: grab;
transition: var(--transition);
}

.dark-theme .algo-block {
background-color: var(--dark-gray);
border: 1px solid rgba(255, 255, 255, 0.1);
}

.algo-block:hover {
box-shadow: var(--box-shadow);
}

.algo-block-title {
font-weight: 500;
font-size: 13px;
margin-bottom: 5px;
}

.algo-block-description {
font-size: 11px;
color: var(--medium-gray);
}

.dark-theme .algo-block-description {
color: rgba(255, 255, 255, 0.6);
}

.algo-canvas {
flex: 1;
min-height: 400px;
background-color: rgba(0, 0, 0, 0.02);
border-radius: var(--border-radius);
padding: 20px;
border: 2px dashed var(--light-gray);
}

.dark-theme .algo-canvas {
background-color: rgba(255, 255, 255, 0.05);
border: 2px dashed rgba(255, 255, 255, 0.1);
}

.algo-footer {
display: flex;
justify-content: space-between;
}

.algo-stats {
background-color: rgba(0, 0, 0, 0.02);
border-radius: var(--border-radius);
padding: 15px;
}

.dark-theme .algo-stats {
background-color: rgba(255, 255, 255, 0.05);
}

.algo-stat-row {
display: flex;
margin-bottom: 10px;
}

.algo-stat-label {
width: 150px;
color: var(--medium-gray);
}

.dark-theme .algo-stat-label {
color: rgba(255, 255, 255, 0.7);
}

.algo-stat-value {
font-weight: 500;
}

.algo-stat-value.positive {
color: var(--success);
}

.algo-stat-value.negative {
color: var(--danger);
}

/* Monte Carlo Simulation */
.monte-carlo {
margin-bottom: 20px;
}

.simulation-params {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 20px;
margin-bottom: 20px;
}

.dark-theme .simulation-params {
background-color: var(--dark-gray);
}

.simulation-params-title {
font-weight: 500;
margin-bottom: 15px;
}

.simulation-param-row {
display: flex;
margin-bottom: 15px;
}

.simulation-param-label {
width: 200px;
color: var(--medium-gray);
}

.dark-theme .simulation-param-label {
color: rgba(255, 255, 255, 0.7);
}

.simulation-param-input {
flex: 1;
}

.simulation-results {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 20px;
}

.dark-theme .simulation-results {
background-color: var(--dark-gray);
}

.simulation-results-title {
font-weight: 500;
margin-bottom: 15px;
}

.simulation-chart {
height: 300px;
margin-bottom: 20px;
}

.simulation-stats {
display: grid;
grid-template-columns: repeat(4, 1fr);
gap: 15px;
}

@media (max-width: 992px) {
.simulation-stats {
grid-template-columns: repeat(2, 1fr);
}
}

@media (max-width: 576px) {
.simulation-stats {
grid-template-columns: 1fr;
}
}

.simulation-stat {
background-color: rgba(0, 0, 0, 0.02);
border-radius: var(--border-radius);
padding: 15px;
}

.dark-theme .simulation-stat {
background-color: rgba(255, 255, 255, 0.05);
}

.simulation-stat-value {
font-size: 20px;
font-weight: 600;
margin-bottom: 5px;
}

.simulation-stat-label {
font-size: 13px;
color: var(--medium-gray);
}

.dark-theme .simulation-stat-label {
color: rgba(255, 255, 255, 0.7);
}

/* Advanced Fundamental Analysis */
.fundamental-analysis {
margin-bottom: 20px;
}

.metrics-tabs {
display: flex;
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
overflow: hidden;
margin-bottom: 20px;
}

.dark-theme .metrics-tabs {
background-color: var(--dark-gray);
}

.metrics-tab {
flex: 1;
padding: 12px;
text-align: center;
cursor: pointer;
transition: var(--transition);
border-bottom: 2px solid transparent;
}

.metrics-tab:hover {
background-color: rgba(0, 0, 0, 0.02);
}

.dark-theme .metrics-tab:hover {
background-color: rgba(255, 255, 255, 0.05);
}

.metrics-tab.active {
border-bottom: 2px solid var(--accent);
color: var(--accent);
font-weight: 500;
}

.metrics-grid {
display: grid;
grid-template-columns: repeat(3, 1fr);
gap: 20px;
margin-bottom: 20px;
}

@media (max-width: 992px) {
.metrics-grid {
grid-template-columns: repeat(2, 1fr);
}
}

@media (max-width: 768px) {
.metrics-grid {
grid-template-columns: 1fr;
}
}

.metric-panel {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
}

.dark-theme .metric-panel {
background-color: var(--dark-gray);
}

.metric-panel-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 15px;
}

.metric-panel-title {
font-weight: 500;
}

.metric-panel-value {
font-size: 20px;
font-weight: 600;
}

.metric-panel-value.positive {
color: var(--success);
}

.metric-panel-value.negative {
color: var(--danger);
}

.metric-chart {
height: 100px;
}

.metric-footer {
display: flex;
justify-content: space-between;
margin-top: 10px;
font-size: 13px;
color: var(--medium-gray);
}

.dark-theme .metric-footer {
color: rgba(255, 255, 255, 0.7);
}

/* Sectors Analysis */
.sector-analysis {
margin-bottom: 20px;
}

.sector-map {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 20px;
margin-bottom: 20px;
height: 400px;
position: relative;
}

.dark-theme .sector-map {
background-color: var(--dark-gray);
}

.sector-block {
position: absolute;
border-radius: var(--border-radius);
display: flex;
align-items: center;
justify-content: center;
color: white;
font-weight: 500;
cursor: pointer;
transition: var(--transition);
}

.sector-block:hover {
transform: scale(1.05);
z-index: 10;
}

.sector-performance {
display: grid;
grid-template-columns: repeat(2, 1fr);
gap: 20px;
}

@media (max-width: 992px) {
.sector-performance {
grid-template-columns: 1fr;
}
}

.sector-chart {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 20px;
height: 300px;
}

.dark-theme .sector-chart {
background-color: var(--dark-gray);
}

.sector-leaders {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
overflow: hidden;
}

.dark-theme .sector-leaders {
background-color: var(--dark-gray);
}

.sector-leaders-header {
padding: 15px;
font-weight: 500;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .sector-leaders-header {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.sector-leader {
display: flex;
align-items: center;
padding: 12px 15px;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .sector-leader {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.sector-leader:last-child {
border-bottom: none;
}

.sector-leader-rank {
width: 30px;
font-weight: 600;
}

.sector-leader-info {
flex: 1;
}

.sector-leader-symbol {
font-weight: 500;
margin-bottom: 3px;
}

.sector-leader-name {
font-size: 12px;
color: var(--medium-gray);
}

.dark-theme .sector-leader-name {
color: rgba(255, 255, 255, 0.6);
}

.sector-leader-change {
font-weight: 500;
}

.sector-leader-change.positive {
color: var(--success);
}

.sector-leader-change.negative {
color: var(--danger);
}

/* Seasonal Analysis */
.seasonal-analysis {
margin-bottom: 20px;
}

.seasonal-chart {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 20px;
margin-bottom: 20px;
}

.dark-theme .seasonal-chart {
background-color: var(--dark-gray);
}

.seasonal-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 20px;
}

.seasonal-title {
font-weight: 500;
font-size: 18px;
}

.seasonal-heatmap {
height: 300px;
}

.seasonal-stats {
display: grid;
grid-template-columns: repeat(4, 1fr);
gap: 15px;
}

@media (max-width: 992px) {
.seasonal-stats {
grid-template-columns: repeat(2, 1fr);
}
}

@media (max-width: 576px) {
.seasonal-stats {
grid-template-columns: 1fr;
}
}

.seasonal-stat {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
}

.dark-theme .seasonal-stat {
background-color: var(--dark-gray);
}

.seasonal-stat-value {
font-size: 20px;
font-weight: 600;
margin-bottom: 5px;
}

.seasonal-stat-value.positive {
color: var(--success);
}

.seasonal-stat-value.negative {
color: var(--danger);
}

.seasonal-stat-label {
font-size: 13px;
color: var(--medium-gray);
}

.dark-theme .seasonal-stat-label {
color: rgba(255, 255, 255, 0.7);
}

/* Advanced Position Sizing */
.position-sizing {
margin-bottom: 20px;
}

.calculator {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 20px;
margin-bottom: 20px;
}

.dark-theme .calculator {
background-color: var(--dark-gray);
}

.calculator-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 20px;
}

.calculator-title {
font-weight: 500;
font-size: 18px;
}

.calculator-model {
display: flex;
gap: 20px;
}

.calculator-sidebar {
width: 300px;
}

.calculator-label {
font-size: 13px;
color: var(--medium-gray);
margin-bottom: 5px;
}

.dark-theme .calculator-label {
color: rgba(255, 255, 255, 0.7);
}

.calculator-group {
margin-bottom: 15px;
}

.calculator-results {
flex: 1;
background-color: rgba(0, 0, 0, 0.02);
border-radius: var(--border-radius);
padding: 20px;
}

.dark-theme .calculator-results {
background-color: rgba(255, 255, 255, 0.05);
}

.calculator-result-row {
display: flex;
justify-content: space-between;
margin-bottom: 15px;
padding-bottom: 15px;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .calculator-result-row {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.calculator-result-row:last-child {
border-bottom: none;
margin-bottom: 0;
padding-bottom: 0;
}

.calculator-result-label {
color: var(--medium-gray);
}

.dark-theme .calculator-result-label {
color: rgba(255, 255, 255, 0.7);
}

.calculator-result-value {
font-weight: 500;
}

.risk-visualization {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 20px;
}

.dark-theme .risk-visualization {
background-color: var(--dark-gray);
}

.risk-visualization-header {
margin-bottom: 20px;
}

.risk-visualization-title {
font-weight: 500;
margin-bottom: 10px;
}

.risk-visualization-subtitle {
color: var(--medium-gray);
font-size: 14px;
}

.dark-theme .risk-visualization-subtitle {
color: rgba(255, 255, 255, 0.7);
}

.risk-chart {
height: 300px;
}

/* Journal & Trade Log */
.trade-journal {
margin-bottom: 20px;
}

.journal-header {
display: flex;
justify-content: space-between;
margin-bottom: 20px;
}

.journal-filter {
display: flex;
gap: 15px;
}

.journal-logs {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
overflow: hidden;
}

.dark-theme .journal-logs {
background-color: var(--dark-gray);
}

.journal-tabs {
display: flex;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .journal-tabs {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.journal-tab {
padding: 15px 20px;
cursor: pointer;
position: relative;
font-weight: 500;
}

.journal-tab.active {
color: var(--accent);
}

.journal-tab.active:after {
content: '';
position: absolute;
bottom: -1px;
left: 0;
right: 0;
height: 2px;
background-color: var(--accent);
}

.journal-entry {
padding: 15px;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .journal-entry {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.journal-entry:last-child {
border-bottom: none;
}

.journal-entry-header {
display: flex;
justify-content: space-between;
margin-bottom: 10px;
}

.journal-entry-title {
font-weight: 500;
display: flex;
align-items: center;
gap: 10px;
}

.journal-trade-type {
display: inline-block;
padding: 3px 8px;
border-radius: 12px;
font-size: 12px;
font-weight: 500;
}

.journal-trade-type.buy {
background-color: rgba(46, 204, 113, 0.1);
color: var(--success);
}

.journal-trade-type.sell {
background-color: rgba(231, 76, 60, 0.1);
color: var(--danger);
}

.journal-entry-date {
font-size: 13px;
color: var(--medium-gray);
}

.dark-theme .journal-entry-date {
color: rgba(255, 255, 255, 0.7);
}

.journal-entry-metrics {
display: flex;
flex-wrap: wrap;
gap: 20px;
margin-bottom: 15px;
}

.journal-metric {
min-width: 100px;
}

.journal-metric-label {
font-size: 12px;
color: var(--medium-gray);
margin-bottom: 3px;
}

.dark-theme .journal-metric-label {
color: rgba(255, 255, 255, 0.6);
}

.journal-metric-value {
font-weight: 500;
}

.journal-metric-value.positive {
color: var(--success);
}

.journal-metric-value.negative {
color: var(--danger);
}

.journal-entry-notes {
font-size: 14px;
color: var(--medium-gray);
margin-bottom: 15px;
}

.dark-theme .journal-entry-notes {
color: rgba(255, 255, 255, 0.7);
}

.journal-entry-chart {
height: 120px;
background-color: rgba(0, 0, 0, 0.02);
border-radius: var(--border-radius);
}

.dark-theme .journal-entry-chart {
background-color: rgba(255, 255, 255, 0.05);
}

/* Real-time Quotes */
.real-time-quotes {
margin-bottom: 20px;
}

.quote-panel {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
overflow: hidden;
}

.dark-theme .quote-panel {
background-color: var(--dark-gray);
}

.quote-header {
padding: 15px;
border-bottom: 1px solid var(--light-gray);
display: flex;
justify-content: space-between;
align-items: center;
}

.dark-theme .quote-header {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.quote-title {
font-weight: 500;
}

.quote-filter {
display: flex;
gap: 10px;
}

.quote-ticker {
display: flex;
padding: 15px;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .quote-ticker {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.quote-ticker:last-child {
border-bottom: none;
}

.quote-ticker:hover {
background-color: rgba(0, 0, 0, 0.02);
}

.dark-theme .quote-ticker:hover {
background-color: rgba(255, 255, 255, 0.05);
}

.quote-symbol {
width: 80px;
font-weight: 500;
}

.quote-name {
flex: 1;
}

.quote-last {
width: 80px;
font-weight: 500;
text-align: right;
}

.quote-change {
width: 100px;
text-align: right;
}

.quote-change.positive {
color: var(--success);
}

.quote-change.negative {
color: var(--danger);
}

.quote-volume {
width: 100px;
text-align: right;
color: var(--medium-gray);
}

.dark-theme .quote-volume {
color: rgba(255, 255, 255, 0.7);
}

.quote-actions {
width: 100px;
text-align: right;
}
</style>
</head>
<body>
<div class="app-container">
<header class="header">
<div class="header-brand">
<a href="#" class="logo">
<svg class="icon" viewBox="0 0 24 24">
<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
</svg>
ProTrade Analytics
</a>
<button class="btn btn-icon btn-secondary" id="toggle-sidebar" data-tooltip="Toggle Sidebar">
<svg class="icon" viewBox="0 0 24 24">
<line x1="3" y1="12" x2="21" y2="12"></line>
<line x1="3" y1="6" x2="21" y2="6"></line>
<line x1="3" y1="18" x2="21" y2="18"></line>
</svg>
</button>
</div>
<div class="header-actions">
<div class="search-box">
<input type="text" placeholder="Search symbol" class="form-control" id="symbol-search">
</div>
<button class="btn btn-secondary btn-sm" id="toggle-controls">
<svg class="icon" viewBox="0 0 24 24">
<circle cx="12" cy="12" r="3"></circle>
<path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
</svg>
Settings
</button>
<button class="btn btn-secondary btn-sm" id="toggle-theme">
<svg class="icon light-icon" viewBox="0 0 24 24">
<circle cx="12" cy="12" r="5"></circle>
<line x1="12" y1="1" x2="12" y2="3"></line>
<line x1="12" y1="21" x2="12" y2="23"></line>
<line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
<line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
<line x1="1" y1="12" x2="3" y2="12"></line>
<line x1="21" y1="12" x2="23" y2="12"></line>
<line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
<line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>
<svg class="icon dark-icon" viewBox="0 0 24 24" style="display: none;">
<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
</svg>
Theme
</button>
<div class="dropdown" id="user-dropdown">
<div class="dropdown-toggle">
<div class="avatar">JP</div>
</div>
<div class="dropdown-menu">
<a href="#" class="dropdown-item">
<svg class="icon" viewBox="0 0 24 24">
<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
<circle cx="12" cy="7" r="4"></circle>
</svg>
Profile
</a>
<a href="#" class="dropdown-item">
<svg class="icon" viewBox="0 0 24 24">
<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
<polyline points="17 21 17 13 7 13 7 21"></polyline>
<polyline points="7 3 7 8 15 8"></polyline>
</svg>
My Presets
</a>
<a href="#" class="dropdown-item">
<svg class="icon" viewBox="0 0 24 24">
<circle cx="12" cy="12" r="3"></circle>
<path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
</svg>
Settings
</a>
<div class="dropdown-divider"></div>
<a href="#" class="dropdown-item">
<svg class="icon" viewBox="0 0 24 24">
<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
<polyline points="16 17 21 12 16 7"></polyline>
<line x1="21" y1="12" x2="9" y2="12"></line>
</svg>
Logout
</a>
</div>
</div>
</div>
</header>

<div class="main-container">
<aside class="sidebar" id="sidebar">
<div class="nav-section">
<div class="nav-section-title">Main</div>
<ul class="nav-list">
<li class="nav-item active" data-page="dashboard">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<rect x="3" y="3" width="7" height="7"></rect>
<rect x="14" y="3" width="7" height="7"></rect>
<rect x="14" y="14" width="7" height="7"></rect>
<rect x="3" y="14" width="7" height="7"></rect>
</svg>
</span>
<span class="nav-item-text">Dashboard</span>
</li>
<li class="nav-item" data-page="advanced-charts">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
</svg>
</span>
<span class="nav-item-text">Advanced Charts</span>
</li>
<li class="nav-item" data-page="multi-timeframe">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
<line x1="3" y1="9" x2="21" y2="9"></line>
<line x1="3" y1="15" x2="21" y2="15"></line>
<line x1="9" y1="3" x2="9" y2="21"></line>
<line x1="15" y1="3" x2="15" y2="21"></line>
</svg>
</span>
<span class="nav-item-text">Multi-Timeframe</span>
</li>
<li class="nav-item" data-page="pattern-recognition">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
<path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
</svg>
</span>
<span class="nav-item-text">Pattern Recognition</span>
</li>
</ul>
</div>

<div class="nav-section">
<div class="nav-section-title">Technical Analysis</div>
<ul class="nav-list">
<li class="nav-item" data-page="indicators">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
</svg>
</span>
<span class="nav-item-text">Technical Indicators</span>
</li>
<li class="nav-item" data-page="fibonacci">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<circle cx="12" cy="12" r="10"></circle>
<line x1="2" y1="12" x2="22" y2="12"></line>
<path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
</svg>
</span>
<span class="nav-item-text">Fibonacci Tools</span>
</li>
<li class="nav-item" data-page="drawing-tools">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<path d="M12 19l7-7 3 3-7 7-3-3z"></path>
<path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
<path d="M2 2l7.586 7.586"></path>
<circle cx="11" cy="11" r="2"></circle>
</svg>
</span>
<span class="nav-item-text">Drawing Tools</span>
</li>
<li class="nav-item" data-page="volume-analysis">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<path d="M7 16V4M17 16V4M3 8h4m10 0h4M7 20h10M12 4v16"></path>
</svg>
</span>
<span class="nav-item-text">Volume Analysis</span>
</li>
<li class="nav-item" data-page="custom-charts">
<span class="nav-item-icon">
<i class="fas fa-chart-line"></i>
</span>
<span class="nav-item-text">Custom Chart Types</span>
</li>
<li class="nav-item" data-page="price-alerts">
<span class="nav-item-icon">
<i class="fas fa-bell"></i>
</span>
<span class="nav-item-text">Price Alerts</span>
</li>
</ul>
</div>

<div class="nav-section">
<div class="nav-section-title">Trading Tools</div>
<ul class="nav-list">
<li class="nav-item" data-page="screener">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
</svg>
</span>
<span class="nav-item-text">Stock Screener</span>
</li>
<li class="nav-item" data-page="backtesting">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
</svg>
</span>
<span class="nav-item-text">Backtesting</span>
</li>
<li class="nav-item" data-page="options">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<line x1="4" y1="21" x2="4" y2="14"></line>
<line x1="4" y1="10" x2="4" y2="3"></line>
<line x1="12" y1="21" x2="12" y2="12"></line>
<line x1="12" y1="8" x2="12" y2="3"></line>
<line x1="20" y1="21" x2="20" y2="16"></line>
<line x1="20" y1="12" x2="20" y2="3"></line>
<line x1="1" y1="14" x2="7" y2="14"></line>
<line x1="9" y1="8" x2="15" y2="8"></line>
<line x1="17" y1="16" x2="23" y2="16"></line>
</svg>
</span>
<span class="nav-item-text">Options Analytics</span>
</li>
<li class="nav-item" data-page="risk-management">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
</svg>
</span>
<span class="nav-item-text">Risk Management</span>
</li>
<li class="nav-item" data-page="portfolio-tracker">
<span class="nav-item-icon">
<i class="fas fa-briefcase"></i>
</span>
<span class="nav-item-text">Portfolio Tracker</span>
</li>
<li class="nav-item" data-page="trading-journal">
<span class="nav-item-icon">
<i class="fas fa-book"></i>
</span>
<span class="nav-item-text">Trading Journal</span>
</li>
<li class="nav-item" data-page="strategy-builder">
<span class="nav-item-icon">
<i class="fas fa-cogs"></i>
</span>
<span class="nav-item-text">Strategy Builder</span>
</li>
</ul>
</div>

<div class="nav-section">
<div class="nav-section-title">Market Data</div>
<ul class="nav-list">
<li class="nav-item" data-page="correlation">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
<rect x="7" y="7" width="3" height="9"></rect>
<rect x="14" y="7" width="3" height="5"></rect>
</svg>
</span>
<span class="nav-item-text">Correlation Analysis</span>
</li>
<li class="nav-item" data-page="economic-calendar">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
<line x1="16" y1="2" x2="16" y2="6"></line>
<line x1="8" y1="2" x2="8" y2="6"></line>
<line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
</span>
<span class="nav-item-text">Economic Calendar</span>
</li>
<li class="nav-item" data-page="market-breadth">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path>
<path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>
<path d="M3 5c0 1.66 4 3 9 3s9-1.34 9-3"></path>
<path d="M3 12c0 1.66 4 3 9 3s9-1.34 9-3"></path>
</svg>
</span>
<span class="nav-item-text">Market Breadth</span>
</li>
<li class="nav-item" data-page="order-flow">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
</svg>
</span>
<span class="nav-item-text">Order Flow Analysis</span>
</li>
<li class="nav-item" data-page="sector-analysis">
<span class="nav-item-icon">
<i class="fas fa-sitemap"></i>
</span>
<span class="nav-item-text">Sector Analysis</span>
</li>
<li class="nav-item" data-page="global-markets">
<span class="nav-item-icon">
<i class="fas fa-globe"></i>
</span>
<span class="nav-item-text">Global Markets</span>
</li>
<li class="nav-item" data-page="volatility-analysis">
<span class="nav-item-icon">
<i class="fas fa-bolt"></i>
</span>
<span class="nav-item-text">Volatility Analysis</span>
</li>
</ul>
</div>

<div class="nav-section">
<div class="nav-section-title">AI & Social</div>
<ul class="nav-list">
<li class="nav-item" data-page="ai-insights">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<circle cx="12" cy="12" r="10"></circle>
<polyline points="12 6 12 12 16 14"></polyline>
</svg>
</span>
<span class="nav-item-text">AI Insights</span>
</li>
<li class="nav-item" data-page="sentiment">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<circle cx="12" cy="12" r="10"></circle>
<path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
<line x1="9" y1="9" x2="9.01" y2="9"></line>
<line x1="15" y1="9" x2="15.01" y2="9"></line>
</svg>
</span>
<span class="nav-item-text">Sentiment Analysis</span>
</li>
<li class="nav-item" data-page="social">
<span class="nav-item-icon">
<svg class="icon" viewBox="0 0 24 24">
<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
</svg>
</span>
<span class="nav-item-text">Social & Collaboration</span>
</li>
<li class="nav-item" data-page="pattern-scanner">
<span class="nav-item-icon">
<i class="fas fa-binoculars"></i>
</span>
<span class="nav-item-text">AI Pattern Scanner</span>
</li>
<li class="nav-item" data-page="ml-predictions">
<span class="nav-item-icon">
<i class="fas fa-brain"></i>
</span>
<span class="nav-item-text">ML Predictions</span>
</li>
<li class="nav-item" data-page="algorithmic-trading">
<span class="nav-item-icon">
<i class="fas fa-robot"></i>
</span>
<span class="nav-item-text">Algorithmic Trading</span>
</li>
</ul>
</div>

<div class="nav-section">
<div class="nav-section-title">Advanced Tools</div>
<ul class="nav-list">
<li class="nav-item" data-page="monte-carlo">
<span class="nav-item-icon">
<i class="fas fa-random"></i>
</span>
<span class="nav-item-text">Monte Carlo Simulation</span>
</li>
<li class="nav-item" data-page="dark-pool">
<span class="nav-item-icon">
<i class="fas fa-swimmer"></i>
</span>
<span class="nav-item-text">Dark Pool Activity</span>
</li>
<li class="nav-item" data-page="options-flow">
<span class="nav-item-icon">
<i class="fas fa-stream"></i>
</span>
<span class="nav-item-text">Options Flow</span>
</li>
<li class="nav-item" data-page="seasonality">
<span class="nav-item-icon">
<i class="fas fa-calendar-alt"></i>
</span>
<span class="nav-item-text">Seasonality Analysis</span>
</li>
<li class="nav-item" data-page="insider-activity">
<span class="nav-item-icon">
<i class="fas fa-user-tie"></i>
</span>
<span class="nav-item-text">Insider Activity</span>
</li>
<li class="nav-item" data-page="quant-scanner">
<span class="nav-item-icon">
<i class="fas fa-microscope"></i>
</span>
<span class="nav-item-text">Quantitative Scanner</span>
</li>
</ul>
</div>

<div class="nav-section">
<div class="nav-section-title">Education & Research</div>
<ul class="nav-list">
<li class="nav-item" data-page="educational-content">
<span class="nav-item-icon">
<i class="fas fa-graduation-cap"></i>
</span>
<span class="nav-item-text">Educational Content</span>
</li>
<li class="nav-item" data-page="trading-strategies">
<span class="nav-item-icon">
<i class="fas fa-chess"></i>
</span>
<span class="nav-item-text">Trading Strategies</span>
</li>
<li class="nav-item" data-page="research-reports">
<span class="nav-item-icon">
<i class="fas fa-file-alt"></i>
</span>
<span class="nav-item-text">Research Reports</span>
</li>
<li class="nav-item" data-page="pattern-library">
<span class="nav-item-icon">
<i class="fas fa-shapes"></i>
</span>
<span class="nav-item-text">Pattern Library</span>
</li>
</ul>
</div>
</aside>

<main class="content" id="main-content">
<!-- Dashboard Page -->
<div class="page active" id="dashboard-page">
<div class="dashboard">
<div class="dashboard-header">
<h1 class="dashboard-title">AAPL - Apple Inc.</h1>
<div class="dashboard-actions">
<div class="timeframe-selector">
<button class="timeframe-btn" data-timeframe="1D">1D</button>
<button class="timeframe-btn" data-timeframe="1W">1W</button>
<button class="timeframe-btn" data-timeframe="1M">1M</button>
<button class="timeframe-btn active" data-timeframe="3M">3M</button>
<button class="timeframe-btn" data-timeframe="6M">6M</button>
<button class="timeframe-btn" data-timeframe="1Y">1Y</button>
<button class="timeframe-btn" data-timeframe="5Y">5Y</button>
<button class="timeframe-btn" data-timeframe="MAX">MAX</button>
</div>
<button class="btn btn-secondary btn-sm" id="custom-date-btn">
<svg class="icon" viewBox="0 0 24 24">
    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
    <line x1="16" y1="2" x2="16" y2="6"></line>
    <line x1="8" y1="2" x2="8" y2="6"></line>
    <line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
Custom
</button>
<button class="btn btn-primary btn-sm">
<svg class="icon" viewBox="0 0 24 24">
    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
    <line x1="12" y1="8" x2="12<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ProTrade Financial Analytics Platform</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-adapter-moment/1.0.1/chartjs-adapter-moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/2.2.1/chartjs-plugin-annotation.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash/4.17.21/lodash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tradingview-lightweight-charts/4.0.1/dist/lightweight-charts.standalone.production.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
/* Primary colors */
--primary-dark: #1e2c3c;
--primary: #2c3e50;
--primary-light: #34495e;
--secondary: #2980b9;
--accent: #3498db;
--success: #2ecc71;
--warning: #f39c12;
--danger: #e74c3c;
--info: #3498db;

/* Neutral colors */
--dark: #121212;
--dark-gray: #2c3e50;
--medium-gray: #7f8c8d;
--light-gray: #ecf0f1;
--white: #ffffff;

/* Chart colors */
--chart-primary: rgba(52, 152, 219, 1);
--chart-secondary: rgba(46, 204, 113, 1);
--chart-tertiary: rgba(155, 89, 182, 1);
--chart-quaternary: rgba(241, 196, 15, 1);
--chart-quinary: rgba(231, 76, 60, 1);

/* Font */
--font-primary: 'Roboto', 'Segoe UI', sans-serif;
--font-secondary: 'Open Sans', Arial, sans-serif;
--font-mono: 'Roboto Mono', monospace;

/* Sizing */
--header-height: 60px;
--sidebar-width: 260px;
--border-radius: 6px;
--box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
--transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.dark-theme {
--primary-dark: #273746;
--primary: #34495e;
--primary-light: #3c556e;
--secondary: #2980b9;
--accent: #3498db;

/* Neutral colors */
--dark: #0f0f0f;
--dark-gray: #1e272e;
--medium-gray: #8395a7;
--light-gray: #34495e;
--white: #1e272e;

/* Chart colors */
--chart-primary: rgba(52, 152, 219, 1);
--chart-secondary: rgba(46, 204, 113, 1);
--chart-tertiary: rgba(155, 89, 182, 1);
--chart-quaternary: rgba(241, 196, 15, 1);
--chart-quinary: rgba(231, 76, 60, 1);

color-scheme: dark;
}

* {
box-sizing: border-box;
margin: 0;
padding: 0;
}

body {
font-family: var(--font-primary);
font-size: 14px;
line-height: 1.5;
color: var(--dark-gray);
background-color: var(--light-gray);
overflow: hidden;
position: relative;
height: 100vh;
}

.dark-theme body {
color: #e0e0e0;
background-color: var(--dark);
}

/* Layout */
.app-container {
display: flex;
flex-direction: column;
height: 100vh;
width: 100vw;
overflow: hidden;
}

.header {
height: var(--header-height);
background-color: var(--primary);
color: white;
display: flex;
align-items: center;
justify-content: space-between;
padding: 0 20px;
box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
z-index: 1000;
}

.header-brand {
display: flex;
align-items: center;
gap: 12px;
}

.logo {
display: flex;
align-items: center;
font-weight: 700;
font-size: 20px;
color: white;
text-decoration: none;
}

.header-actions {
display: flex;
align-items: center;
gap: 16px;
}

.main-container {
display: flex;
flex: 1;
overflow: hidden;
}

.sidebar {
width: var(--sidebar-width);
background-color: var(--white);
border-right: 1px solid var(--light-gray);
overflow-y: auto;
transition: var(--transition);
z-index: 100;
}

.dark-theme .sidebar {
background-color: var(--dark-gray);
border-right: 1px solid var(--primary-dark);
}

.sidebar-collapsed {
width: 60px;
}

.content {
flex: 1;
overflow-y: auto;
padding: 20px;
position: relative;
}

.content-with-right-panel {
margin-right: 300px;
}

.right-panel {
position: fixed;
top: var(--header-height);
right: 0;
width: 300px;
height: calc(100vh - var(--header-height));
background-color: var(--white);
border-left: 1px solid var(--light-gray);
overflow-y: auto;
z-index: 90;
}

.dark-theme .right-panel {
background-color: var(--dark-gray);
border-left: 1px solid var(--primary-dark);
}

/* Sidebar Navigation */
.nav-section {
margin-bottom: 8px;
}

.nav-section-title {
padding: 12px 16px;
font-size: 12px;
text-transform: uppercase;
letter-spacing: 0.5px;
color: var(--medium-gray);
font-weight: 600;
}

.dark-theme .nav-section-title {
color: rgba(255, 255, 255, 0.7);
}

.nav-list {
list-style: none;
}

.nav-item {
display: flex;
align-items: center;
padding: 10px 16px;
color: var(--dark-gray);
text-decoration: none;
transition: var(--transition);
cursor: pointer;
border-left: 3px solid transparent;
}

.dark-theme .nav-item {
color: rgba(255, 255, 255, 0.9);
}

.nav-item:hover {
background-color: rgba(52, 152, 219, 0.05);
}

.nav-item.active {
background-color: rgba(52, 152, 219, 0.1);
color: var(--accent);
border-left: 3px solid var(--accent);
}

.dark-theme .nav-item.active {
background-color: rgba(52, 152, 219, 0.2);
}

.nav-item-icon {
margin-right: 12px;
font-size: 18px;
width: 20px;
text-align: center;
}

.nav-item-text {
flex: 1;
}

.sidebar-collapsed .nav-item-text,
.sidebar-collapsed .nav-section-title {
display: none;
}

/* Button Styles */
.btn {
display: inline-flex;
align-items: center;
justify-content: center;
padding: 8px 16px;
border: none;
border-radius: var(--border-radius);
font-size: 14px;
font-weight: 500;
cursor: pointer;
transition: var(--transition);
text-decoration: none;
gap: 8px;
}

.btn-primary {
background-color: var(--accent);
color: white;
}

.btn-primary:hover {
background-color: #2980b9;
}

.btn-secondary {
background-color: transparent;
color: var(--dark-gray);
border: 1px solid var(--medium-gray);
}

.dark-theme .btn-secondary {
color: rgba(255, 255, 255, 0.9);
border: 1px solid rgba(255, 255, 255, 0.3);
}

.btn-secondary:hover {
background-color: rgba(0, 0, 0, 0.05);
}

.dark-theme .btn-secondary:hover {
background-color: rgba(255, 255, 255, 0.05);
}

.btn-icon {
width: 36px;
height: 36px;
padding: 0;
border-radius: 50%;
display: inline-flex;
align-items: center;
justify-content: center;
}

.btn-sm {
padding: 6px 12px;
font-size: 13px;
}

/* Tabs */
.tabs {
display: flex;
border-bottom: 1px solid var(--light-gray);
margin-bottom: 20px;
}

.dark-theme .tabs {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.tab {
padding: 12px 20px;
cursor: pointer;
color: var(--medium-gray);
font-weight: 500;
transition: var(--transition);
position: relative;
}

.tab:hover {
color: var(--dark-gray);
}

.dark-theme .tab:hover {
color: rgba(255, 255, 255, 0.9);
}

.tab.active {
color: var(--accent);
}

.tab.active::after {
content: "";
position: absolute;
bottom: -1px;
left: 0;
right: 0;
height: 2px;
background-color: var(--accent);
}

.tab-content {
display: none;
}

.tab-content.active {
display: block;
}

/* Dashboard */
.dashboard {
display: grid;
grid-template-columns: repeat(12, 1fr);
gap: 20px;
}

.dashboard-header {
grid-column: span 12;
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 20px;
}

.dashboard-title {
font-size: 24px;
font-weight: 500;
}

.dashboard-actions {
display: flex;
gap: 12px;
}

.timeframe-selector {
display: flex;
background-color: var(--white);
border-radius: var(--border-radius);
overflow: hidden;
box-shadow: var(--box-shadow);
}

.dark-theme .timeframe-selector {
background-color: var(--dark-gray);
}

.timeframe-btn {
padding: 8px 12px;
background: transparent;
border: none;
cursor: pointer;
font-size: 13px;
font-weight: 500;
color: var(--dark-gray);
transition: var(--transition);
}

.dark-theme .timeframe-btn {
color: rgba(255, 255, 255, 0.9);
}

.timeframe-btn:hover {
background-color: rgba(52, 152, 219, 0.05);
}

.timeframe-btn.active {
background-color: var(--accent);
color: white;
}

/* Cards */
.card {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
overflow: hidden;
}

.dark-theme .card {
background-color: var(--dark-gray);
}

.card-header {
padding: 16px;
display: flex;
justify-content: space-between;
align-items: center;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .card-header {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.card-title {
font-size: 16px;
font-weight: 500;
}

.card-actions {
display: flex;
gap: 8px;
}

.card-body {
padding: 16px;
}

.card-footer {
padding: 12px 16px;
border-top: 1px solid var(--light-gray);
font-size: 13px;
color: var(--medium-gray);
}

.dark-theme .card-footer {
border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* Chart specific cards */
.chart-card {
grid-column: span 12;
display: flex;
flex-direction: column;
}

.chart-card.half {
grid-column: span 6;
}

@media (max-width: 1200px) {
.chart-card.half {
grid-column: span 12;
}
}

.chart-container {
flex: 1;
position: relative;
min-height: 400px;
padding: 16px;
}

.chart-placeholder {
position: absolute;
top: 0;
left: 0;
right: 0;
bottom: 0;
display: flex;
align-items: center;
justify-content: center;
color: var(--medium-gray);
}

.chart-toolbar {
display: flex;
justify-content: space-between;
padding: 8px 16px;
background-color: rgba(0, 0, 0, 0.02);
border-top: 1px solid var(--light-gray);
flex-wrap: wrap;
}

.dark-theme .chart-toolbar {
background-color: rgba(255, 255, 255, 0.05);
border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.chart-toolbar-section {
display: flex;
gap: 8px;
margin: 4px 0;
flex-wrap: wrap;
}

/* Metrics Cards */
.metric-card {
grid-column: span 3;
padding: 16px;
}

@media (max-width: 992px) {
.metric-card {
grid-column: span 6;
}
}

@media (max-width: 576px) {
.metric-card {
grid-column: span 12;
}
}

.metric-title {
font-size: 14px;
color: var(--medium-gray);
margin-bottom: 8px;
}

.metric-value {
font-size: 24px;
font-weight: 600;
margin-bottom: 8px;
}

.metric-change {
display: flex;
align-items: center;
gap: 4px;
font-size: 13px;
}

.metric-change.positive {
color: var(--success);
}

.metric-change.negative {
color: var(--danger);
}

/* Data Table */
.table-container {
grid-column: span 12;
overflow: auto;
max-height: 400px;
}

.data-table {
width: 100%;
border-collapse: collapse;
}

.data-table th,
.data-table td {
padding: 12px 16px;
text-align: left;
}

.data-table th {
font-weight: 500;
color: var(--medium-gray);
background-color: rgba(0, 0, 0, 0.02);
border-bottom: 1px solid var(--light-gray);
position: sticky;
top: 0;
z-index: 10;
}

.dark-theme .data-table th {
background-color: rgba(255, 255, 255, 0.05);
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.data-table tbody tr:hover {
background-color: rgba(0, 0, 0, 0.02);
}

.dark-theme .data-table tbody tr:hover {
background-color: rgba(255, 255, 255, 0.05);
}

.data-table td {
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .data-table td {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

/* Controls Panel */
.controls-panel {
position: fixed;
top: var(--header-height);
right: 0;
width: 360px;
height: calc(100vh - var(--header-height));
background-color: var(--white);
border-left: 1px solid var(--light-gray);
z-index: 100;
transform: translateX(100%);
transition: transform 0.3s ease;
overflow-y: auto;
}

.dark-theme .controls-panel {
background-color: var(--dark-gray);
border-left: 1px solid rgba(255, 255, 255, 0.1);
}

.controls-panel.open {
transform: translateX(0);
box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
}

.controls-header {
padding: 16px;
display: flex;
justify-content: space-between;
align-items: center;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .controls-header {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.controls-title {
font-size: 18px;
font-weight: 500;
}

.controls-close {
background: none;
border: none;
font-size: 20px;
cursor: pointer;
color: var(--medium-gray);
}

.controls-tabs {
display: flex;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .controls-tabs {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.controls-tab {
flex: 1;
padding: 12px 16px;
text-align: center;
cursor: pointer;
transition: var(--transition);
color: var(--medium-gray);
font-weight: 500;
}

.controls-tab:hover {
background-color: rgba(0, 0, 0, 0.02);
}

.dark-theme .controls-tab:hover {
background-color: rgba(255, 255, 255, 0.05);
}

.controls-tab.active {
color: var(--accent);
border-bottom: 2px solid var(--accent);
}

.controls-body {
padding: 16px;
}

.controls-section {
margin-bottom: 24px;
}

.controls-section-title {
font-size: 15px;
font-weight: 500;
margin-bottom: 12px;
color: var(--dark-gray);
}

.dark-theme .controls-section-title {
color: rgba(255, 255, 255, 0.9);
}

/* Form Elements */
.form-group {
margin-bottom: 16px;
}

.form-label {
display: block;
margin-bottom: 6px;
font-size: 13px;
color: var(--medium-gray);
}

.dark-theme .form-label {
color: rgba(255, 255, 255, 0.7);
}

.form-control {
width: 100%;
padding: 8px 12px;
border: 1px solid var(--light-gray);
border-radius: var(--border-radius);
background-color: var(--white);
color: var(--dark-gray);
transition: var(--transition);
}

.dark-theme .form-control {
background-color: rgba(255, 255, 255, 0.1);
border: 1px solid rgba(255, 255, 255, 0.2);
color: rgba(255, 255, 255, 0.9);
}

.form-control:focus {
outline: none;
border-color: var(--accent);
box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
}

/* Switch */
.switch-container {
display: flex;
align-items: center;
margin-bottom: 12px;
}

.switch {
position: relative;
display: inline-block;
width: 40px;
height: 22px;
margin-right: 12px;
}

.switch input {
opacity: 0;
width: 0;
height: 0;
}

.slider {
position: absolute;
cursor: pointer;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: var(--light-gray);
transition: var(--transition);
border-radius: 22px;
}

.dark-theme .slider {
background-color: rgba(255, 255, 255, 0.2);
}

.slider:before {
position: absolute;
content: "";
height: 18px;
width: 18px;
left: 2px;
bottom: 2px;
background-color: white;
transition: var(--transition);
border-radius: 50%;
}

input:checked + .slider {
background-color: var(--accent);
}

input:focus + .slider {
box-shadow: 0 0 1px var(--accent);
}

input:checked + .slider:before {
transform: translateX(18px);
}

.switch-label {
font-size: 14px;
color: var(--dark-gray);
}

.dark-theme .switch-label {
color: rgba(255, 255, 255, 0.9);
}

/* Indicator chips */
.indicators-container {
display: flex;
flex-wrap: wrap;
gap: 8px;
margin-bottom: 16px;
}

.indicator-chip {
display: inline-flex;
align-items: center;
padding: 4px 10px;
background-color: rgba(52, 152, 219, 0.1);
border-radius: 16px;
font-size: 13px;
color: var(--accent);
}

.dark-theme .indicator-chip {
background-color: rgba(52, 152, 219, 0.2);
}

.indicator-chip-remove {
margin-left: 6px;
cursor: pointer;
width: 16px;
height: 16px;
display: flex;
align-items: center;
justify-content: center;
border-radius: 50%;
background-color: rgba(0, 0, 0, 0.1);
}

.dark-theme .indicator-chip-remove {
background-color: rgba(255, 255, 255, 0.1);
}

/* Tooltips */
[data-tooltip] {
position: relative;
}

[data-tooltip]:before {
content: attr(data-tooltip);
position: absolute;
bottom: 100%;
left: 50%;
transform: translateX(-50%) translateY(-4px);
padding: 4px 8px;
background-color: var(--dark-gray);
color: white;
font-size: 12px;
border-radius: 4px;
white-space: nowrap;
visibility: hidden;
opacity: 0;
transition: opacity 0.2s, transform 0.2s;
z-index: 1000;
}

[data-tooltip]:hover:before {
visibility: visible;
opacity: 1;
transform: translateX(-50%) translateY(-8px);
}

/* Loading indicator */
.loading-overlay {
position: absolute;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: rgba(255, 255, 255, 0.8);
display: flex;
align-items: center;
justify-content: center;
z-index: 10;
visibility: hidden;
opacity: 0;
transition: var(--transition);
}

.dark-theme .loading-overlay {
background-color: rgba(30, 39, 46, 0.8);
}

.loading-overlay.active {
visibility: visible;
opacity: 1;
}

.spinner {
width: 40px;
height: 40px;
border: 4px solid rgba(52, 152, 219, 0.2);
border-radius: 50%;
border-top-color: var(--accent);
animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
to {
transform: rotate(360deg);
}
}

/* Responsive adjustments */
@media (max-width: 992px) {
.controls-panel {
width: 300px;
}
}

@media (max-width: 768px) {
.sidebar {
position: fixed;
top: var(--header-height);
left: 0;
bottom: 0;
transform: translateX(-100%);
z-index: 1000;
}

.sidebar.open {
transform: translateX(0);
box-shadow: 5px 0 15px rgba(0, 0, 0, 0.1);
}

.chart-card {
grid-column: span 12;
}
}

/* Icons (SVG) */
.icon {
width: 20px;
height: 20px;
fill: none;
stroke: currentColor;
stroke-width: 2;
stroke-linecap: round;
stroke-linejoin: round;
}

/* Chart Legend */
.chart-legend {
display: flex;
flex-wrap: wrap;
gap: 16px;
padding: 12px 16px;
border-top: 1px solid var(--light-gray);
}

.dark-theme .chart-legend {
border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.legend-item {
display: flex;
align-items: center;
gap: 8px;
font-size: 13px;
}

.legend-color {
width: 12px;
height: 12px;
border-radius: 2px;
}

/* Chart custom styles */
.annotation-label {
background-color: rgba(44, 62, 80, 0.7);
color: white;
padding: 4px 8px;
border-radius: 4px;
font-size: 12px;
pointer-events: none;
}

.dark-theme .annotation-label {
background-color: rgba(255, 255, 255, 0.7);
color: var(--dark);
}

/* Custom scrollbar */
::-webkit-scrollbar {
width: 8px;
height: 8px;
}

::-webkit-scrollbar-track {
background: transparent;
}

::-webkit-scrollbar-thumb {
background: var(--medium-gray);
border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
background: var(--dark-gray);
}

/* Notification */
.notification {
position: fixed;
bottom: 20px;
right: 20px;
padding: 12px 16px;
background-color: var(--white);
border-left: 4px solid var(--success);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
transform: translateY(100px);
opacity: 0;
transition: transform 0.3s, opacity 0.3s;
z-index: 1000;
max-width: 300px;
}

.dark-theme .notification {
background-color: var(--dark-gray);
}

.notification.show {
transform: translateY(0);
opacity: 1;
}

.notification-title {
font-weight: 500;
margin-bottom: 4px;
}

.notification-message {
font-size: 13px;
color: var(--medium-gray);
}

.dark-theme .notification-message {
color: rgba(255, 255, 255, 0.7);
}

/* Drawing tools panel */
.drawing-tools {
display: flex;
flex-wrap: wrap;
gap: 5px;
margin-bottom: 10px;
}

.drawing-tool {
padding: 6px;
border-radius: 4px;
background-color: transparent;
border: 1px solid var(--light-gray);
cursor: pointer;
transition: var(--transition);
}

.dark-theme .drawing-tool {
border: 1px solid rgba(255, 255, 255, 0.2);
}

.drawing-tool:hover {
background-color: rgba(0, 0, 0, 0.05);
}

.dark-theme .drawing-tool:hover {
background-color: rgba(255, 255, 255, 0.05);
}

.drawing-tool.active {
background-color: var(--accent);
color: white;
border-color: var(--accent);
}

/* Patterns view */
.pattern-card {
border: 1px solid var(--light-gray);
border-radius: var(--border-radius);
margin-bottom: 15px;
overflow: hidden;
}

.dark-theme .pattern-card {
border: 1px solid rgba(255, 255, 255, 0.1);
}

.pattern-header {
display: flex;
justify-content: space-between;
align-items: center;
padding: 10px 15px;
background-color: rgba(0, 0, 0, 0.02);
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .pattern-header {
background-color: rgba(255, 255, 255, 0.05);
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.pattern-title {
font-weight: 500;
font-size: 15px;
}

.pattern-body {
padding: 15px;
display: flex;
gap: 15px;
}

.pattern-chart {
width: 120px;
height: 80px;
background-color: rgba(0, 0, 0, 0.05);
border-radius: 4px;
}

.dark-theme .pattern-chart {
background-color: rgba(255, 255, 255, 0.1);
}

.pattern-info {
flex: 1;
}

.pattern-description {
font-size: 13px;
color: var(--medium-gray);
margin-bottom: 8px;
}

.dark-theme .pattern-description {
color: rgba(255, 255, 255, 0.7);
}

.pattern-stats {
display: flex;
gap: 15px;
font-size: 12px;
}

.pattern-stat {
display: flex;
flex-direction: column;
}

.pattern-stat-value {
font-weight: 600;
}

.pattern-stat-label {
color: var(--medium-gray);
}

.dark-theme .pattern-stat-label {
color: rgba(255, 255, 255, 0.6);
}

/* Backtesting UI */
.backtest-builder {
margin-bottom: 20px;
}

.strategy-rules {
border: 1px solid var(--light-gray);
border-radius: var(--border-radius);
margin-bottom: 15px;
}

.dark-theme .strategy-rules {
border: 1px solid rgba(255, 255, 255, 0.1);
}

.rule-header {
padding: 12px 15px;
background-color: rgba(0, 0, 0, 0.02);
border-bottom: 1px solid var(--light-gray);
font-weight: 500;
}

.dark-theme .rule-header {
background-color: rgba(255, 255, 255, 0.05);
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.rule-body {
padding: 15px;
}

.rule-row {
display: flex;
align-items: center;
gap: 10px;
margin-bottom: 10px;
}

.rule-select {
flex: 1;
}

.add-rule-btn {
display: flex;
align-items: center;
gap: 6px;
padding: 6px 12px;
background-color: transparent;
border: 1px dashed var(--light-gray);
border-radius: var(--border-radius);
color: var(--medium-gray);
cursor: pointer;
transition: var(--transition);
width: 100%;
justify-content: center;
margin-top: 10px;
}

.dark-theme .add-rule-btn {
border: 1px dashed rgba(255, 255, 255, 0.2);
color: rgba(255, 255, 255, 0.7);
}

.add-rule-btn:hover {
background-color: rgba(0, 0, 0, 0.02);
color: var(--dark-gray);
}

.dark-theme .add-rule-btn:hover {
background-color: rgba(255, 255, 255, 0.05);
color: rgba(255, 255, 255, 0.9);
}

/* Backtest results */
.backtest-results {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 15px;
margin-bottom: 20px;
}

@media (max-width: 768px) {
.backtest-results {
grid-template-columns: 1fr;
}
}

.result-card {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
}

.dark-theme .result-card {
background-color: var(--dark-gray);
}

.result-value {
font-size: 24px;
font-weight: 600;
margin-bottom: 5px;
}

.result-label {
font-size: 13px;
color: var(--medium-gray);
}

.dark-theme .result-label {
color: rgba(255, 255, 255, 0.7);
}

/* Correlation Heatmap */
.heatmap-container {
overflow-x: auto;
}

.heatmap {
border-collapse: collapse;
font-size: 12px;
}

.heatmap th, 
.heatmap td {
padding: 8px;
text-align: center;
min-width: 60px;
}

.heatmap td {
transition: var(--transition);
}

.heatmap td:hover {
transform: scale(1.1);
z-index: 10;
box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.dark-theme .heatmap td:hover {
box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
}

/* Screener */
.screener-builder {
margin-bottom: 20px;
}

.filter-group {
border: 1px solid var(--light-gray);
border-radius: var(--border-radius);
margin-bottom: 15px;
}

.dark-theme .filter-group {
border: 1px solid rgba(255, 255, 255, 0.1);
}

.filter-header {
padding: 12px 15px;
background-color: rgba(0, 0, 0, 0.02);
border-bottom: 1px solid var(--light-gray);
font-weight: 500;
display: flex;
justify-content: space-between;
align-items: center;
}

.dark-theme .filter-header {
background-color: rgba(255, 255, 255, 0.05);
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.filter-body {
padding: 15px;
}

.filter-row {
display: flex;
align-items: center;
gap: 10px;
margin-bottom: 10px;
}

.filter-category,
.filter-operator,
.filter-value {
flex: 1;
}

/* Options chain */
.options-chain {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 0;
margin-bottom: 20px;
}

.options-header {
grid-column: span 2;
display: flex;
justify-content: space-between;
align-items: center;
padding: 10px 15px;
background-color: rgba(0, 0, 0, 0.02);
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .options-header {
background-color: rgba(255, 255, 255, 0.05);
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.options-column {
padding: 15px;
}

.options-column-title {
text-align: center;
font-weight: 500;
margin-bottom: 10px;
padding-bottom: 10px;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .options-column-title {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.option-row {
display: flex;
justify-content: space-between;
padding: 8px 0;
border-bottom: 1px solid var(--light-gray);
font-size: 13px;
}

.dark-theme .option-row {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.option-strike {
font-weight: 500;
}

.option-price {
color: var(--accent);
}

.option-volume,
.option-oi {
color: var(--medium-gray);
}

.dark-theme .option-volume,
.dark-theme .option-oi {
color: rgba(255, 255, 255, 0.6);
}

/* AI Insights */
.ai-insight {
display: flex;
gap: 15px;
margin-bottom: 20px;
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
}

.dark-theme .ai-insight {
background-color: var(--dark-gray);
}

.ai-icon {
display: flex;
align-items: center;
justify-content: center;
width: 40px;
height: 40px;
border-radius: 50%;
background-color: rgba(52, 152, 219, 0.1);
color: var(--accent);
}

.dark-theme .ai-icon {
background-color: rgba(52, 152, 219, 0.2);
}

.ai-content {
flex: 1;
}

.ai-title {
font-weight: 500;
margin-bottom: 5px;
}

.ai-message {
font-size: 14px;
color: var(--medium-gray);
margin-bottom: 10px;
}

.dark-theme .ai-message {
color: rgba(255, 255, 255, 0.7);
}

.ai-actions {
display: flex;
gap: 10px;
}

/* Multi-timeframe view */
.timeframe-grid {
display: grid;
grid-template-columns: repeat(2, 1fr);
gap: 15px;
margin-bottom: 20px;
}

@media (max-width: 992px) {
.timeframe-grid {
grid-template-columns: 1fr;
}
}

.timeframe-chart {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
overflow: hidden;
}

.dark-theme .timeframe-chart {
background-color: var(--dark-gray);
}

.timeframe-header {
padding: 10px 15px;
background-color: rgba(0, 0, 0, 0.02);
border-bottom: 1px solid var(--light-gray);
font-weight: 500;
}

.dark-theme .timeframe-header {
background-color: rgba(255, 255, 255, 0.05);
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.timeframe-body {
padding: 15px;
height: 200px;
}

/* Economic calendar */
.calendar-event {
display: flex;
gap: 15px;
padding: 12px 0;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .calendar-event {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.calendar-date {
min-width: 80px;
text-align: center;
}

.calendar-day {
font-weight: 500;
font-size: 16px;
}

.calendar-time {
font-size: 12px;
color: var(--medium-gray);
}

.dark-theme .calendar-time {
color: rgba(255, 255, 255, 0.6);
}

.calendar-content {
flex: 1;
}

.calendar-title {
font-weight: 500;
margin-bottom: 5px;
}

.calendar-description {
font-size: 13px;
color: var(--medium-gray);
}

.dark-theme .calendar-description {
color: rgba(255, 255, 255, 0.7);
}

.calendar-importance {
padding: 3px 8px;
border-radius: 12px;
font-size: 11px;
text-transform: uppercase;
background-color: var(--light-gray);
}

.calendar-importance.high {
background-color: rgba(231, 76, 60, 0.1);
color: var(--danger);
}

.calendar-importance.medium {
background-color: rgba(241, 196, 15, 0.1);
color: var(--warning);
}

.calendar-importance.low {
background-color: rgba(46, 204, 113, 0.1);
color: var(--success);
}

/* Volume profile */
.volume-profile {
position: relative;
height: 300px;
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
display: flex;
}

.dark-theme .volume-profile {
background-color: var(--dark-gray);
}

.volume-bars {
flex: 1;
display: flex;
flex-direction: column;
justify-content: space-between;
}

.volume-bar {
display: flex;
align-items: center;
height: 20px;
margin-bottom: 5px;
}

.volume-label {
min-width: 60px;
font-size: 12px;
text-align: right;
padding-right: 10px;
}

.volume-line {
flex: 1;
height: 10px;
background-color: rgba(52, 152, 219, 0.2);
border-radius: 2px;
}

.volume-value {
min-width: 50px;
font-size: 12px;
padding-left: 10px;
color: var(--medium-gray);
}

.dark-theme .volume-value {
color: rgba(255, 255, 255, 0.6);
}

/* Social section */
.social-post {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
margin-bottom: 15px;
}

.dark-theme .social-post {
background-color: var(--dark-gray);
}

.post-header {
display: flex;
align-items: center;
gap: 10px;
margin-bottom: 10px;
}

.post-avatar {
width: 40px;
height: 40px;
border-radius: 50%;
background-color: var(--light-gray);
display: flex;
align-items: center;
justify-content: center;
font-weight: 500;
color: var(--dark-gray);
}

.dark-theme .post-avatar {
background-color: rgba(255, 255, 255, 0.1);
color: rgba(255, 255, 255, 0.9);
}

.post-user {
flex: 1;
}

.post-name {
font-weight: 500;
}

.post-handle {
font-size: 12px;
color: var(--medium-gray);
}

.dark-theme .post-handle {
color: rgba(255, 255, 255, 0.6);
}

.post-content {
margin-bottom: 10px;
}

.post-actions {
display: flex;
gap: 15px;
font-size: 13px;
color: var(--medium-gray);
}

.dark-theme .post-actions {
color: rgba(255, 255, 255, 0.6);
}

.post-action {
display: flex;
align-items: center;
gap: 5px;
}

/* Image preview (for chart patterns) */
.image-preview {
max-width: 100%;
border-radius: var(--border-radius);
margin: 10px 0;
border: 1px solid var(--light-gray);
}

.dark-theme .image-preview {
border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Risk management calculator */
.risk-calculator {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
margin-bottom: 20px;
}

.dark-theme .risk-calculator {
background-color: var(--dark-gray);
}

.risk-result {
background-color: rgba(0, 0, 0, 0.02);
border-radius: var(--border-radius);
padding: 15px;
margin-top: 15px;
}

.dark-theme .risk-result {
background-color: rgba(255, 255, 255, 0.05);
}

.risk-value {
font-size: 18px;
font-weight: 500;
margin-bottom: 5px;
}

.risk-label {
font-size: 12px;
color: var(--medium-gray);
}

.dark-theme .risk-label {
color: rgba(255, 255, 255, 0.6);
}

/* Toolbar styles */
.toolbar {
display: flex;
gap: 10px;
margin-bottom: 20px;
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 10px;
flex-wrap: wrap;
}

.dark-theme .toolbar {
background-color: var(--dark-gray);
}

.toolbar-group {
display: flex;
gap: 5px;
border-right: 1px solid var(--light-gray);
padding-right: 10px;
margin-right: 5px;
}

.dark-theme .toolbar-group {
border-right: 1px solid rgba(255, 255, 255, 0.1);
}

.toolbar-group:last-child {
border-right: none;
padding-right: 0;
margin-right: 0;
}

.toolbar-btn {
padding: 6px;
border-radius: 4px;
background-color: transparent;
border: none;
cursor: pointer;
transition: var(--transition);
}

.toolbar-btn:hover {
background-color: rgba(0, 0, 0, 0.05);
}

.dark-theme .toolbar-btn:hover {
background-color: rgba(255, 255, 255, 0.05);
}

.toolbar-btn.active {
background-color: var(--accent);
color: white;
}

/* Overlay for dialog */
.modal-overlay {
position: fixed;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: rgba(0, 0, 0, 0.5);
display: flex;
align-items: center;
justify-content: center;
z-index: 1000;
visibility: hidden;
opacity: 0;
transition: visibility 0s linear 0.25s, opacity 0.25s;
}

.modal-overlay.show {
visibility: visible;
opacity: 1;
transition-delay: 0s;
}

.modal-content {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
width: 500px;
max-width: 90%;
max-height: 90vh;
overflow-y: auto;
}

.dark-theme .modal-content {
background-color: var(--dark-gray);
}

.modal-header {
padding: 15px;
border-bottom: 1px solid var(--light-gray);
display: flex;
justify-content: space-between;
align-items: center;
}

.dark-theme .modal-header {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.modal-title {
font-weight: 500;
font-size: 18px;
}

.modal-close {
background: none;
border: none;
font-size: 20px;
cursor: pointer;
color: var(--medium-gray);
}

.modal-body {
padding: 15px;
}

.modal-footer {
padding: 15px;
border-top: 1px solid var(--light-gray);
display: flex;
justify-content: flex-end;
gap: 10px;
}

.dark-theme .modal-footer {
border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* NEW STYLES - ENHANCED FEATURES */

/* Heatmap Chart */
.heatmap-chart {
width: 100%;
height: 300px;
}

/* Range Selector */
.range-selector {
display: flex;
align-items: center;
margin-bottom: 15px;
}

.range-input {
flex: 1;
margin: 0 10px;
}

.range-label {
font-size: 13px;
color: var(--medium-gray);
width: 50px;
}

.dark-theme .range-label {
color: rgba(255, 255, 255, 0.7);
}

/* Trading Panel */
.trading-panel {
position: fixed;
bottom: 0;
left: var(--sidebar-width);
right: 0;
height: 60px;
background-color: var(--white);
border-top: 1px solid var(--light-gray);
display: flex;
align-items: center;
padding: 0 20px;
z-index: 90;
}

.dark-theme .trading-panel {
background-color: var(--dark-gray);
border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.sidebar-collapsed + .main-container .trading-panel {
left: 60px;
}

.trading-panel-action {
display: flex;
align-items: center;
margin-right: 20px;
}

.trade-btn {
padding: 6px 12px;
border-radius: var(--border-radius);
font-weight: 500;
margin-left: 10px;
}

.buy-btn {
background-color: var(--success);
color: white;
border: none;
}

.sell-btn {
background-color: var(--danger);
color: white;
border: none;
}

/* Chart Comparison */
.comparison-selector {
position: relative;
margin-bottom: 15px;
}

.comparison-input {
width: 100%;
padding: 8px 12px;
padding-right: 30px;
border: 1px solid var(--light-gray);
border-radius: var(--border-radius);
}

.dark-theme .comparison-input {
background-color: rgba(255, 255, 255, 0.1);
border: 1px solid rgba(255, 255, 255, 0.2);
color: rgba(255, 255, 255, 0.9);
}

.comparison-input:focus {
outline: none;
border-color: var(--accent);
}

.comparison-icon {
position: absolute;
right: 10px;
top: 50%;
transform: translateY(-50%);
color: var(--medium-gray);
}

.comparison-dropdown {
position: absolute;
top: 100%;
left: 0;
right: 0;
background-color: var(--white);
border: 1px solid var(--light-gray);
border-radius: 0 0 var(--border-radius) var(--border-radius);
max-height: 200px;
overflow-y: auto;
z-index: 10;
display: none;
}

.dark-theme .comparison-dropdown {
background-color: var(--dark-gray);
border: 1px solid rgba(255, 255, 255, 0.1);
}

.comparison-item {
padding: 8px 12px;
cursor: pointer;
}

.comparison-item:hover {
background-color: rgba(0, 0, 0, 0.05);
}

.dark-theme .comparison-item:hover {
background-color: rgba(255, 255, 255, 0.05);
}

.comparison-tags {
display: flex;
flex-wrap: wrap;
gap: 8px;
margin-top: 10px;
}

.comparison-tag {
display: inline-flex;
align-items: center;
padding: 4px 8px;
background-color: rgba(52, 152, 219, 0.1);
border-radius: 16px;
font-size: 12px;
color: var(--accent);
}

.dark-theme .comparison-tag {
background-color: rgba(52, 152, 219, 0.2);
}

.comparison-tag-remove {
margin-left: 6px;
cursor: pointer;
width: 16px;
height: 16px;
display: flex;
align-items: center;
justify-content: center;
border-radius: 50%;
background-color: rgba(0, 0, 0, 0.1);
}

.dark-theme .comparison-tag-remove {
background-color: rgba(255, 255, 255, 0.1);
}

/* Advanced Strategy Builder */
.strategy-builder {
margin-bottom: 20px;
}

.strategy-components {
display: grid;
grid-template-columns: repeat(3, 1fr);
gap: 15px;
margin-bottom: 15px;
}

@media (max-width: 992px) {
.strategy-components {
grid-template-columns: repeat(2, 1fr);
}
}

@media (max-width: 768px) {
.strategy-components {
grid-template-columns: 1fr;
}
}

.strategy-component {
background-color: var(--white);
border-radius: var(--border-radius);
border: 1px solid var(--light-gray);
padding: 12px;
cursor: grab;
transition: var(--transition);
}

.dark-theme .strategy-component {
background-color: var(--dark-gray);
border: 1px solid rgba(255, 255, 255, 0.1);
}

.strategy-component:hover {
box-shadow: var(--box-shadow);
}

.strategy-component-title {
font-weight: 500;
margin-bottom: 5px;
}

.strategy-component-desc {
font-size: 12px;
color: var(--medium-gray);
}

.dark-theme .strategy-component-desc {
color: rgba(255, 255, 255, 0.7);
}

.strategy-canvas {
background-color: rgba(0, 0, 0, 0.02);
border: 2px dashed var(--light-gray);
border-radius: var(--border-radius);
min-height: 200px;
padding: 15px;
margin-bottom: 15px;
}

.dark-theme .strategy-canvas {
background-color: rgba(255, 255, 255, 0.05);
border: 2px dashed rgba(255, 255, 255, 0.1);
}

.strategy-canvas-item {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
margin-bottom: 10px;
position: relative;
}

.dark-theme .strategy-canvas-item {
background-color: var(--dark-gray);
}

.strategy-canvas-item-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 10px;
}

.strategy-canvas-item-title {
font-weight: 500;
}

.strategy-canvas-item-actions {
display: flex;
gap: 8px;
}

.strategy-canvas-item-action {
width: 24px;
height: 24px;
border-radius: 50%;
background-color: rgba(0, 0, 0, 0.05);
display: flex;
align-items: center;
justify-content: center;
cursor: pointer;
font-size: 12px;
}

.dark-theme .strategy-canvas-item-action {
background-color: rgba(255, 255, 255, 0.1);
}

.connector {
position: absolute;
bottom: -20px;
left: 50%;
transform: translateX(-50%);
width: 2px;
height: 20px;
background-color: var(--light-gray);
z-index: 1;
}

.dark-theme .connector {
background-color: rgba(255, 255, 255, 0.2);
}

.connector:after {
content: "";
position: absolute;
bottom: -5px;
left: 50%;
transform: translateX(-50%);
width: 10px;
height: 10px;
border-right: 2px solid var(--light-gray);
border-bottom: 2px solid var(--light-gray);
transform: translateX(-50%) rotate(45deg);
}

.dark-theme .connector:after {
border-right: 2px solid rgba(255, 255, 255, 0.2);
border-bottom: 2px solid rgba(255, 255, 255, 0.2);
}

/* Advanced Technical Indicators */
.indicators-grid {
display: grid;
grid-template-columns: repeat(3, 1fr);
gap: 15px;
margin-bottom: 20px;
}

@media (max-width: 992px) {
.indicators-grid {
grid-template-columns: repeat(2, 1fr);
}
}

@media (max-width: 768px) {
.indicators-grid {
grid-template-columns: 1fr;
}
}

.indicator-card {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
overflow: hidden;
}

.dark-theme .indicator-card {
background-color: var(--dark-gray);
}

.indicator-header {
padding: 12px 15px;
display: flex;
justify-content: space-between;
align-items: center;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .indicator-header {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.indicator-title {
font-weight: 500;
font-size: 14px;
}

.indicator-value {
font-weight: 600;
color: var(--accent);
}

.indicator-body {
padding: 15px;
}

.indicator-chart {
height: 100px;
margin-bottom: 10px;
}

.indicator-meta {
display: flex;
justify-content: space-between;
font-size: 12px;
color: var(--medium-gray);
}

.dark-theme .indicator-meta {
color: rgba(255, 255, 255, 0.7);
}

.indicator-signal {
display: inline-block;
padding: 2px 8px;
border-radius: 12px;
font-size: 11px;
font-weight: 500;
text-transform: uppercase;
}

.indicator-signal.buy {
background-color: rgba(46, 204, 113, 0.1);
color: var(--success);
}

.indicator-signal.sell {
background-color: rgba(231, 76, 60, 0.1);
color: var(--danger);
}

.indicator-signal.neutral {
background-color: rgba(52, 152, 219, 0.1);
color: var(--info);
}

/* Advanced Alert System */
.alerts-container {
margin-bottom: 20px;
}

.alert-card {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
margin-bottom: 15px;
overflow: hidden;
}

.dark-theme .alert-card {
background-color: var(--dark-gray);
}

.alert-header {
display: flex;
justify-content: space-between;
align-items: center;
padding: 12px 15px;
background-color: rgba(0, 0, 0, 0.02);
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .alert-header {
background-color: rgba(255, 255, 255, 0.05);
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.alert-title {
font-weight: 500;
display: flex;
align-items: center;
gap: 8px;
}

.alert-status {
width: 10px;
height: 10px;
border-radius: 50%;
background-color: var(--success);
}

.alert-status.inactive {
background-color: var(--medium-gray);
}

.alert-body {
padding: 15px;
}

.alert-type {
margin-bottom: 10px;
}

.alert-conditions {
margin-bottom: 10px;
}

.alert-condition {
display: flex;
align-items: center;
margin-bottom: 5px;
}

.alert-condition-icon {
margin-right: 8px;
color: var(--medium-gray);
}

.dark-theme .alert-condition-icon {
color: rgba(255, 255, 255, 0.6);
}

.alert-actions {
display: flex;
gap: 10px;
}

/* Portfolio Builder */
.portfolio-builder {
margin-bottom: 20px;
}

.portfolio-summary {
display: grid;
grid-template-columns: repeat(4, 1fr);
gap: 15px;
margin-bottom: 20px;
}

@media (max-width: 992px) {
.portfolio-summary {
grid-template-columns: repeat(2, 1fr);
}
}

@media (max-width: 576px) {
.portfolio-summary {
grid-template-columns: 1fr;
}
}

.portfolio-metric {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
}

.dark-theme .portfolio-metric {
background-color: var(--dark-gray);
}

.portfolio-metric-value {
font-size: 24px;
font-weight: 600;
margin-bottom: 5px;
}

.portfolio-metric-label {
font-size: 13px;
color: var(--medium-gray);
}

.dark-theme .portfolio-metric-label {
color: rgba(255, 255, 255, 0.7);
}

.portfolio-assets {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
overflow: hidden;
margin-bottom: 20px;
}

.dark-theme .portfolio-assets {
background-color: var(--dark-gray);
}

.portfolio-assets-header {
padding: 15px;
display: flex;
justify-content: space-between;
align-items: center;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .portfolio-assets-header {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.portfolio-asset {
display: flex;
align-items: center;
padding: 12px 15px;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .portfolio-asset {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.portfolio-asset:last-child {
border-bottom: none;
}

.portfolio-asset-icon {
width: 40px;
height: 40px;
border-radius: 50%;
background-color: rgba(0, 0, 0, 0.05);
display: flex;
align-items: center;
justify-content: center;
margin-right: 15px;
}

.dark-theme .portfolio-asset-icon {
background-color: rgba(255, 255, 255, 0.1);
}

.portfolio-asset-info {
flex: 1;
}

.portfolio-asset-name {
font-weight: 500;
margin-bottom: 2px;
}

.portfolio-asset-allocation {
font-size: 12px;
color: var(--medium-gray);
}

.dark-theme .portfolio-asset-allocation {
color: rgba(255, 255, 255, 0.7);
}

.portfolio-asset-performance {
display: flex;
flex-direction: column;
align-items: flex-end;
}

.portfolio-asset-change {
font-weight: 500;
}

.portfolio-asset-change.positive {
color: var(--success);
}

.portfolio-asset-change.negative {
color: var(--danger);
}

.portfolio-asset-value {
font-size: 12px;
color: var(--medium-gray);
}

.dark-theme .portfolio-asset-value {
color: rgba(255, 255, 255, 0.7);
}

/* Calendar Integration */
.calendar-integration {
margin-bottom: 20px;
}

.calendar-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 15px;
}

.calendar-title {
font-size: 18px;
font-weight: 500;
}

.calendar-navigation {
display: flex;
gap: 10px;
}

.calendar-nav-btn {
width: 32px;
height: 32px;
border-radius: 50%;
background-color: transparent;
border: 1px solid var(--light-gray);
display: flex;
align-items: center;
justify-content: center;
cursor: pointer;
transition: var(--transition);
}

.dark-theme .calendar-nav-btn {
border: 1px solid rgba(255, 255, 255, 0.2);
}

.calendar-nav-btn:hover {
background-color: rgba(0, 0, 0, 0.05);
}

.dark-theme .calendar-nav-btn:hover {
background-color: rgba(255, 255, 255, 0.05);
}

.calendar-grid {
display: grid;
grid-template-columns: repeat(7, 1fr);
gap: 8px;
}

.calendar-day-header {
text-align: center;
font-weight: 500;
font-size: 12px;
color: var(--medium-gray);
padding: 8px 0;
}

.dark-theme .calendar-day-header {
color: rgba(255, 255, 255, 0.7);
}

.calendar-day {
min-height: 80px;
background-color: var(--white);
border-radius: var(--border-radius);
border: 1px solid var(--light-gray);
padding: 8px;
font-size: 12px;
}

.dark-theme .calendar-day {
background-color: var(--dark-gray);
border: 1px solid rgba(255, 255, 255, 0.1);
}

.calendar-day-number {
font-weight: 500;
margin-bottom: 5px;
}

.calendar-event-dot {
width: 8px;
height: 8px;
border-radius: 50%;
display: inline-block;
margin-right: 5px;
}

.calendar-event-dot.earnings {
background-color: var(--info);
}

.calendar-event-dot.economic {
background-color: var(--warning);
}

.calendar-event-dot.dividend {
background-color: var(--success);
}

.calendar-event-item {
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;
margin-bottom: 4px;
}

/* Advanced Market Scanner */
.market-scanner {
margin-bottom: 20px;
}

.scanner-filters {
display: flex;
flex-wrap: wrap;
gap: 10px;
margin-bottom: 15px;
}

.scanner-filter {
display: flex;
align-items: center;
background-color: var(--white);
border-radius: var(--border-radius);
border: 1px solid var(--light-gray);
padding: 6px 12px;
}

.dark-theme .scanner-filter {
background-color: var(--dark-gray);
border: 1px solid rgba(255, 255, 255, 0.1);
}

.scanner-filter-label {
font-size: 12px;
color: var(--medium-gray);
margin-right: 8px;
}

.dark-theme .scanner-filter-label {
color: rgba(255, 255, 255, 0.7);
}

.scanner-results {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
overflow: hidden;
}

.dark-theme .scanner-results {
background-color: var(--dark-gray);
}

.scanner-results-header {
padding: 12px 15px;
border-bottom: 1px solid var(--light-gray);
font-weight: 500;
}

.dark-theme .scanner-results-header {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.scanner-result {
display: flex;
align-items: center;
padding: 12px 15px;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .scanner-result {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.scanner-result:last-child {
border-bottom: none;
}

.scanner-result-symbol {
width: 80px;
font-weight: 500;
}

.scanner-result-name {
flex: 1;
}

.scanner-result-metrics {
display: flex;
gap: 15px;
}

.scanner-metric {
text-align: right;
min-width: 80px;
}

.scanner-metric-value {
font-weight: 500;
}

.scanner-metric-value.positive {
color: var(--success);
}

.scanner-metric-value.negative {
color: var(--danger);
}

.scanner-metric-label {
font-size: 11px;
color: var(--medium-gray);
}

.dark-theme .scanner-metric-label {
color: rgba(255, 255, 255, 0.6);
}

/* Data Export Tools */
.export-tools {
margin-bottom: 20px;
}

.export-options {
display: flex;
flex-wrap: wrap;
gap: 10px;
margin-bottom: 15px;
}

.export-option {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
display: flex;
flex-direction: column;
align-items: center;
width: 120px;
transition: var(--transition);
cursor: pointer;
}

.dark-theme .export-option {
background-color: var(--dark-gray);
}

.export-option:hover {
transform: translateY(-5px);
}

.export-option-icon {
width: 40px;
height: 40px;
border-radius: 50%;
background-color: rgba(52, 152, 219, 0.1);
display: flex;
align-items: center;
justify-content: center;
margin-bottom: 10px;
color: var(--accent);
}

.dark-theme .export-option-icon {
background-color: rgba(52, 152, 219, 0.2);
}

.export-option-label {
font-size: 13px;
text-align: center;
}

/* Real-time Newsfeed */
.newsfeed {
margin-bottom: 20px;
}

.news-filters {
display: flex;
gap: 10px;
margin-bottom: 15px;
overflow-x: auto;
padding-bottom: 5px;
}

.news-filter {
padding: 6px 12px;
background-color: var(--white);
border-radius: 20px;
border: 1px solid var(--light-gray);
font-size: 13px;
white-space: nowrap;
cursor: pointer;
transition: var(--transition);
}

.dark-theme .news-filter {
background-color: var(--dark-gray);
border: 1px solid rgba(255, 255, 255, 0.1);
}

.news-filter.active {
background-color: var(--accent);
border-color: var(--accent);
color: white;
}

.news-item {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
margin-bottom: 15px;
}

.dark-theme .news-item {
background-color: var(--dark-gray);
}

.news-item-header {
display: flex;
justify-content: space-between;
margin-bottom: 10px;
}

.news-source {
font-weight: 500;
display: flex;
align-items: center;
gap: 8px;
}

.news-time {
font-size: 12px;
color: var(--medium-gray);
}

.dark-theme .news-time {
color: rgba(255, 255, 255, 0.6);
}

.news-title {
font-weight: 500;
margin-bottom: 8px;
}

.news-summary {
font-size: 14px;
color: var(--medium-gray);
margin-bottom: 10px;
}

.dark-theme .news-summary {
color: rgba(255, 255, 255, 0.7);
}

.news-tags {
display: flex;
flex-wrap: wrap;
gap: 8px;
}

.news-tag {
padding: 4px 8px;
background-color: rgba(0, 0, 0, 0.05);
border-radius: 4px;
font-size: 12px;
}

.dark-theme .news-tag {
background-color: rgba(255, 255, 255, 0.1);
}

/* Market Open/Close Timer */
.market-timer {
position: fixed;
top: var(--header-height);
left: 50%;
transform: translateX(-50%);
background-color: var(--white);
border-radius: 0 0 var(--border-radius) var(--border-radius);
box-shadow: var(--box-shadow);
padding: 8px 15px;
font-size: 13px;
display: flex;
align-items: center;
gap: 8px;
z-index: 90;
}

.dark-theme .market-timer {
background-color: var(--dark-gray);
}

.market-status {
width: 8px;
height: 8px;
border-radius: 50%;
}

.market-status.open {
background-color: var(--success);
}

.market-status.closed {
background-color: var(--danger);
}

.market-status.pre {
background-color: var(--warning);
}

.market-status.post {
background-color: var(--warning);
}

/* Multi-Chart Layout */
.chart-layout-selector {
display: flex;
gap: 10px;
margin-bottom: 15px;
}

.layout-option {
width: 40px;
height: 40px;
border-radius: var(--border-radius);
border: 1px solid var(--light-gray);
cursor: pointer;
display: flex;
flex-direction: column;
padding: 4px;
transition: var(--transition);
}

.dark-theme .layout-option {
border: 1px solid rgba(255, 255, 255, 0.1);
}

.layout-option.active {
border-color: var(--accent);
background-color: rgba(52, 152, 219, 0.1);
}

.dark-theme .layout-option.active {
background-color: rgba(52, 152, 219, 0.2);
}

.layout-row {
display: flex;
flex: 1;
gap: 2px;
margin-bottom: 2px;
}

.layout-row:last-child {
margin-bottom: 0;
}

.layout-cell {
flex: 1;
background-color: var(--medium-gray);
border-radius: 1px;
}

.dark-theme .layout-cell {
background-color: rgba(255, 255, 255, 0.5);
}

.multi-chart-grid {
display: grid;
grid-template-columns: repeat(2, 1fr);
grid-template-rows: repeat(2, 300px);
gap: 15px;
margin-bottom: 20px;
}

.multi-chart-grid.layout-1x1 {
grid-template-columns: 1fr;
grid-template-rows: 600px;
}

.multi-chart-grid.layout-1x2 {
grid-template-columns: 1fr;
grid-template-rows: repeat(2, 300px);
}

.multi-chart-grid.layout-2x1 {
grid-template-columns: repeat(2, 1fr);
grid-template-rows: 600px;
}

.multi-chart-grid.layout-3x1 {
grid-template-columns: repeat(3, 1fr);
grid-template-rows: 600px;
}

.multi-chart-cell {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
overflow: hidden;
display: flex;
flex-direction: column;
}

.dark-theme .multi-chart-cell {
background-color: var(--dark-gray);
}

.multi-chart-header {
padding: 10px;
border-bottom: 1px solid var(--light-gray);
display: flex;
justify-content: space-between;
align-items: center;
}

.dark-theme .multi-chart-header {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.multi-chart-title {
font-weight: 500;
font-size: 14px;
}

.multi-chart-actions {
display: flex;
gap: 5px;
}

.multi-chart-body {
flex: 1;
position: relative;
}

/* Watch List */
.watchlist {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
overflow: hidden;
margin-bottom: 20px;
}

.dark-theme .watchlist {
background-color: var(--dark-gray);
}

.watchlist-header {
padding: 12px 15px;
border-bottom: 1px solid var(--light-gray);
display: flex;
justify-content: space-between;
align-items: center;
}

.dark-theme .watchlist-header {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.watchlist-title {
font-weight: 500;
}

.watchlist-tabs {
display: flex;
padding: 0 15px;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .watchlist-tabs {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.watchlist-tab {
padding: 12px 15px;
cursor: pointer;
font-size: 13px;
position: relative;
}

.watchlist-tab.active {
color: var(--accent);
}

.watchlist-tab.active:after {
content: '';
position: absolute;
bottom: -1px;
left: 0;
right: 0;
height: 2px;
background-color: var(--accent);
}

.watchlist-item {
display: flex;
align-items: center;
padding: 10px 15px;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .watchlist-item {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.watchlist-item:last-child {
border-bottom: none;
}

.watchlist-drag {
margin-right: 10px;
color: var(--medium-gray);
cursor: grab;
}

.dark-theme .watchlist-drag {
color: rgba(255, 255, 255, 0.6);
}

.watchlist-symbol {
width: 60px;
font-weight: 500;
}

.watchlist-price {
flex: 1;
text-align: right;
}

.watchlist-change {
width: 80px;
text-align: right;
}

.watchlist-change.positive {
color: var(--success);
}

.watchlist-change.negative {
color: var(--danger);
}

.watchlist-actions {
width: 40px;
text-align: right;
}

/* Dark Pool & Advanced Order Flow */
.dark-pool-analysis {
margin-bottom: 20px;
}

.order-flow-heatmap {
display: grid;
grid-template-columns: repeat(10, 1fr);
gap: 2px;
margin-bottom: 15px;
}

.price-level {
height: 30px;
position: relative;
display: flex;
align-items: center;
justify-content: center;
font-size: 11px;
font-weight: 500;
border-radius: 2px;
color: white;
}

.price-level.buy {
background-color: rgba(46, 204, 113, 0.6);
}

.price-level.sell {
background-color: rgba(231, 76, 60, 0.6);
}

.price-level-value {
position: absolute;
left: -50px;
width: 45px;
text-align: right;
font-size: 11px;
color: var(--medium-gray);
}

.dark-theme .price-level-value {
color: rgba(255, 255, 255, 0.6);
}

.order-flow-info {
display: flex;
justify-content: space-between;
margin-bottom: 15px;
}

.order-flow-stat {
background-color: var(--white);
border-radius: var(--border-radius);
padding: 10px 15px;
flex: 1;
margin-right: 10px;
}

.dark-theme .order-flow-stat {
background-color: var(--dark-gray);
}

.order-flow-stat:last-child {
margin-right: 0;
}

.order-flow-stat-label {
font-size: 12px;
color: var(--medium-gray);
margin-bottom: 5px;
}

.dark-theme .order-flow-stat-label {
color: rgba(255, 255, 255, 0.6);
}

.order-flow-stat-value {
font-weight: 500;
font-size: 18px;
}

.order-flow-stat-value.buy {
color: var(--success);
}

.order-flow-stat-value.sell {
color: var(--danger);
}

/* Machine Learning Predictions */
.ml-predictions {
margin-bottom: 20px;
}

.prediction-card {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
margin-bottom: 15px;
}

.dark-theme .prediction-card {
background-color: var(--dark-gray);
}

.prediction-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 15px;
}

.prediction-title {
font-weight: 500;
display: flex;
align-items: center;
gap: 10px;
}

.prediction-icon {
width: 32px;
height: 32px;
border-radius: 50%;
background-color: rgba(52, 152, 219, 0.1);
display: flex;
align-items: center;
justify-content: center;
color: var(--accent);
}

.dark-theme .prediction-icon {
background-color: rgba(52, 152, 219, 0.2);
}

.prediction-confidence {
font-size: 13px;
color: var(--medium-gray);
}

.dark-theme .prediction-confidence {
color: rgba(255, 255, 255, 0.7);
}

.prediction-chart {
height: 150px;
margin-bottom: 15px;
}

.prediction-details {
display: flex;
justify-content: space-between;
}

.prediction-metric {
flex: 1;
text-align: center;
border-right: 1px solid var(--light-gray);
padding: 0 10px;
}

.dark-theme .prediction-metric {
border-right: 1px solid rgba(255, 255, 255, 0.1);
}

.prediction-metric:last-child {
border-right: none;
}

.prediction-metric-value {
font-weight: 600;
font-size: 18px;
margin-bottom: 5px;
}

.prediction-metric-label {
font-size: 12px;
color: var(--medium-gray);
}

.dark-theme .prediction-metric-label {
color: rgba(255, 255, 255, 0.6);
}

/* Tab system for different chart types */
.chart-type-tabs {
display: flex;
margin-bottom: 20px;
background-color: var(--white);
border-radius: var(--border-radius);
overflow: hidden;
}

.dark-theme .chart-type-tabs {
background-color: var(--dark-gray);
}

.chart-type-tab {
flex: 1;
padding: 12px;
text-align: center;
cursor: pointer;
transition: var(--transition);
font-size: 14px;
color: var(--medium-gray);
border-bottom: 2px solid transparent;
}

.dark-theme .chart-type-tab {
color: rgba(255, 255, 255, 0.7);
}

.chart-type-tab:hover {
background-color: rgba(0, 0, 0, 0.02);
}

.dark-theme .chart-type-tab:hover {
background-color: rgba(255, 255, 255, 0.05);
}

.chart-type-tab.active {
color: var(--accent);
border-bottom: 2px solid var(--accent);
font-weight: 500;
}

/* TradingView-style Multi-tool Panel */
.multi-tool-panel {
position: fixed;
top: 50%;
left: var(--sidebar-width);
transform: translateY(-50%);
background-color: var(--white);
border-radius: 0 var(--border-radius) var(--border-radius) 0;
box-shadow: var(--box-shadow);
padding: 10px 0;
z-index: 90;
}

.dark-theme .multi-tool-panel {
background-color: var(--dark-gray);
}

.sidebar-collapsed + .main-container .multi-tool-panel {
left: 60px;
}

.tool-panel-item {
width: 40px;
height: 40px;
display: flex;
align-items: center;
justify-content: center;
cursor: pointer;
transition: var(--transition);
color: var(--medium-gray);
position: relative;
}

.dark-theme .tool-panel-item {
color: rgba(255, 255, 255, 0.7);
}

.tool-panel-item:hover {
color: var(--dark-gray);
}

.dark-theme .tool-panel-item:hover {
color: rgba(255, 255, 255, 0.9);
}

/* Custom Dropdown */
.custom-dropdown {
position: relative;
width: 100%;
}

.dropdown-trigger {
padding: 8px 12px;
border: 1px solid var(--light-gray);
border-radius: var(--border-radius);
display: flex;
justify-content: space-between;
align-items: center;
cursor: pointer;
background-color: var(--white);
}

.dark-theme .dropdown-trigger {
background-color: rgba(255, 255, 255, 0.1);
border: 1px solid rgba(255, 255, 255, 0.2);
}

.dropdown-menu {
position: absolute;
top: 100%;
left: 0;
right: 0;
background-color: var(--white);
border: 1px solid var(--light-gray);
border-radius: 0 0 var(--border-radius) var(--border-radius);
z-index: 100;
max-height: 200px;
overflow-y: auto;
display: none;
}

.dark-theme .dropdown-menu {
background-color: var(--dark-gray);
border: 1px solid rgba(255, 255, 255, 0.1);
}

.dropdown-menu.show {
display: block;
}

.dropdown-item {
padding: 8px 12px;
cursor: pointer;
}

.dropdown-item:hover {
background-color: rgba(0, 0, 0, 0.05);
}

.dark-theme .dropdown-item:hover {
background-color: rgba(255, 255, 255, 0.05);
}

/* Advanced Chart Studies */
.studies-panel {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
margin-bottom: 20px;
}

.dark-theme .studies-panel {
background-color: var(--dark-gray);
}

.studies-header {
padding: 15px;
border-bottom: 1px solid var(--light-gray);
display: flex;
justify-content: space-between;
align-items: center;
}

.dark-theme .studies-header {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.studies-title {
font-weight: 500;
}

.studies-grid {
display: grid;
grid-template-columns: repeat(3, 1fr);
gap: 15px;
padding: 15px;
}

@media (max-width: 992px) {
.studies-grid {
grid-template-columns: repeat(2, 1fr);
}
}

@media (max-width: 576px) {
.studies-grid {
grid-template-columns: 1fr;
}
}

.study-item {
background-color: rgba(0, 0, 0, 0.02);
border-radius: var(--border-radius);
padding: 12px;
display: flex;
flex-direction: column;
}

.dark-theme .study-item {
background-color: rgba(255, 255, 255, 0.05);
}

.study-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 10px;
}

.study-title {
font-weight: 500;
font-size: 14px;
}

.study-toggle {
position: relative;
width: 36px;
height: 20px;
}

.study-toggle input {
opacity: 0;
width: 0;
height: 0;
}

.study-slider {
position: absolute;
cursor: pointer;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: var(--light-gray);
border-radius: 20px;
transition: var(--transition);
}

.dark-theme .study-slider {
background-color: rgba(255, 255, 255, 0.2);
}

.study-slider:before {
position: absolute;
content: "";
height: 16px;
width: 16px;
left: 2px;
bottom: 2px;
background-color: white;
border-radius: 50%;
transition: var(--transition);
}

input:checked + .study-slider {
background-color: var(--accent);
}

input:checked + .study-slider:before {
transform: translateX(16px);
}

.study-params {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 8px;
}

.study-param {
display: flex;
align-items: center;
font-size: 12px;
}

.study-param-label {
margin-right: 5px;
color: var(--medium-gray);
}

.dark-theme .study-param-label {
color: rgba(255, 255, 255, 0.6);
}

.study-param-value {
font-weight: 500;
}

/* Market Profile */
.market-profile {
margin-bottom: 20px;
}

.profile-container {
display: flex;
height: 400px;
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
overflow: hidden;
}

.dark-theme .profile-container {
background-color: var(--dark-gray);
}

.price-axis {
width: 60px;
padding: 10px;
border-right: 1px solid var(--light-gray);
display: flex;
flex-direction: column;
justify-content: space-between;
}

.dark-theme .price-axis {
border-right: 1px solid rgba(255, 255, 255, 0.1);
}

.price-label {
font-size: 11px;
color: var(--medium-gray);
}

.dark-theme .price-label {
color: rgba(255, 255, 255, 0.6);
}

.profile-chart {
flex: 1;
padding: 10px;
position: relative;
}

.profile-row {
position: absolute;
left: 0;
right: 0;
height: 15px;
display: flex;
}

.profile-bar {
height: 15px;
background-color: rgba(52, 152, 219, 0.6);
border-radius: 2px;
margin-right: 1px;
}

.profile-bar.poc {
background-color: rgba(231, 76, 60, 0.6);
}

.profile-bar.value-area {
background-color: rgba(46, 204, 113, 0.6);
}

/* Order Book Visualization */
.order-book {
margin-bottom: 20px;
}

.order-book-container {
display: flex;
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
overflow: hidden;
}

.dark-theme .order-book-container {
background-color: var(--dark-gray);
}

.order-book-side {
flex: 1;
padding: 15px;
}

.order-book-header {
font-weight: 500;
text-align: center;
margin-bottom: 10px;
padding-bottom: 10px;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .order-book-header {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.order-book-bids .order-book-header {
color: var(--success);
}

.order-book-asks .order-book-header {
color: var(--danger);
}

.order-book-entry {
display: flex;
justify-content: space-between;
padding: 5px 0;
position: relative;
}

.order-book-bar {
position: absolute;
top: 0;
bottom: 0;
z-index: 0;
}

.order-book-bids .order-book-bar {
right: 0;
background-color: rgba(46, 204, 113, 0.1);
}

.order-book-asks .order-book-bar {
left: 0;
background-color: rgba(231, 76, 60, 0.1);
}

.order-book-price,
.order-book-quantity,
.order-book-total {
z-index: 1;
width: 33%;
}

.order-book-bids .order-book-price {
color: var(--success);
}

.order-book-asks .order-book-price {
color: var(--danger);
}

.order-book-mid-price {
text-align: center;
padding: 8px 0;
font-weight: 500;
border-top: 1px solid var(--light-gray);
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .order-book-mid-price {
border-top: 1px solid rgba(255, 255, 255, 0.1);
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

/* Tape/Time and Sales */
.time-and-sales {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
overflow: hidden;
margin-bottom: 20px;
}

.dark-theme .time-and-sales {
background-color: var(--dark-gray);
}

.time-and-sales-header {
padding: 12px 15px;
border-bottom: 1px solid var(--light-gray);
font-weight: 500;
}

.dark-theme .time-and-sales-header {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.time-and-sales-list {
max-height: 300px;
overflow-y: auto;
}

.time-and-sales-item {
display: flex;
padding: 8px 15px;
border-bottom: 1px solid var(--light-gray);
font-size: 13px;
}

.dark-theme .time-and-sales-item {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.time-and-sales-time {
width: 80px;
color: var(--medium-gray);
}

.dark-theme .time-and-sales-time {
color: rgba(255, 255, 255, 0.6);
}

.time-and-sales-price {
width: 80px;
text-align: right;
}

.time-and-sales-price.up {
color: var(--success);
}

.time-and-sales-price.down {
color: var(--danger);
}

.time-and-sales-price.unchanged {
color: var(--medium-gray);
}

.dark-theme .time-and-sales-price.unchanged {
color: rgba(255, 255, 255, 0.6);
}

.time-and-sales-size {
width: 80px;
text-align: right;
}

.time-and-sales-condition {
flex: 1;
text-align: right;
color: var(--medium-gray);
}

.dark-theme .time-and-sales-condition {
color: rgba(255, 255, 255, 0.6);
}

/* Advanced Alerts Builder */
.alerts-builder {
margin-bottom: 20px;
}

.alert-builder-header {
margin-bottom: 20px;
}

.alert-builder-title {
font-size: 18px;
font-weight: 500;
margin-bottom: 10px;
}

.alert-builder-description {
color: var(--medium-gray);
font-size: 14px;
}

.dark-theme .alert-builder-description {
color: rgba(255, 255, 255, 0.7);
}

.alert-type-selector {
display: flex;
flex-wrap: wrap;
gap: 15px;
margin-bottom: 20px;
}

.alert-type-option {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
width: 150px;
cursor: pointer;
transition: var(--transition);
border: 2px solid transparent;
}

.dark-theme .alert-type-option {
background-color: var(--dark-gray);
}

.alert-type-option:hover {
transform: translateY(-5px);
}

.alert-type-option.selected {
border-color: var(--accent);
}

.alert-type-icon {
width: 40px;
height: 40px;
border-radius: 50%;
background-color: rgba(52, 152, 219, 0.1);
display: flex;
align-items: center;
justify-content: center;
margin: 0 auto 10px;
color: var(--accent);
}

.dark-theme .alert-type-icon {
background-color: rgba(52, 152, 219, 0.2);
}

.alert-type-label {
text-align: center;
font-weight: 500;
}

.alert-condition-builder {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 20px;
margin-bottom: 20px;
}

.dark-theme .alert-condition-builder {
background-color: var(--dark-gray);
}

.alert-condition-row {
display: flex;
gap: 15px;
margin-bottom: 15px;
}

.alert-condition-row > * {
flex: 1;
}

.alert-actions {
display: flex;
gap: 15px;
margin-top: 20px;
}

.alert-action-option {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
flex: 1;
}

.dark-theme .alert-action-option {
background-color: var(--dark-gray);
}

.alert-action-header {
display: flex;
align-items: center;
gap: 10px;
margin-bottom: 10px;
}

.alert-action-icon {
width: 32px;
height: 32px;
border-radius: 50%;
background-color: rgba(52, 152, 219, 0.1);
display: flex;
align-items: center;
justify-content: center;
color: var(--accent);
}

.dark-theme .alert-action-icon {
background-color: rgba(52, 152, 219, 0.2);
}

.alert-action-title {
font-weight: 500;
}

/* Advanced Chart Drawings */
.drawing-tools-panel {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
margin-bottom: 20px;
}

.dark-theme .drawing-tools-panel {
background-color: var(--dark-gray);
}

.drawing-tools-categories {
display: flex;
border-bottom: 1px solid var(--light-gray);
}

.dark-theme .drawing-tools-categories {
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.drawing-category {
padding: 12px 20px;
cursor: pointer;
transition: var(--transition);
font-weight: 500;
position: relative;
}

.drawing-category:hover {
background-color: rgba(0, 0, 0, 0.02);
}

.dark-theme .drawing-category:hover {
background-color: rgba(255, 255, 255, 0.05);
}

.drawing-category.active {
color: var(--accent);
}

.drawing-category.active:after {
content: '';
position: absolute;
bottom: -1px;
left: 0;
right: 0;
height: 2px;
background-color: var(--accent);
}

.drawing-tools-grid {
display: grid;
grid-template-columns: repeat(6, 1fr);
padding: 15px;
gap: 10px;
}

@media (max-width: 992px) {
.drawing-tools-grid {
grid-template-columns: repeat(4, 1fr);
}
}

@media (max-width: 768px) {
.drawing-tools-grid {
grid-template-columns: repeat(3, 1fr);
}
}

.drawing-tool-item {
text-align: center;
padding: 10px;
border-radius: var(--border-radius);
cursor: pointer;
transition: var(--transition);
}

.drawing-tool-item:hover {
background-color: rgba(0, 0, 0, 0.02);
}

.dark-theme .drawing-tool-item:hover {
background-color: rgba(255, 255, 255, 0.05);
}

.drawing-tool-item.active {
background-color: rgba(52, 152, 219, 0.1);
}

.dark-theme .drawing-tool-item.active {
background-color: rgba(52, 152, 219, 0.2);
}

.drawing-tool-icon {
width: 32px;
height: 32px;
display: flex;
align-items: center;
justify-content: center;
margin: 0 auto 5px;
color: var(--dark-gray);
}

.dark-theme .drawing-tool-icon {
color: rgba(255, 255, 255, 0.9);
}

.drawing-tool-label {
font-size: 12px;
}

/* Replay and Simulation */
.replay-controls {
background-color: var(--white);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 15px;
margin-bottom: 20px;
display: flex;
align-items: center;
gap: 15px;
}

.dark-theme .replay-controls {
background-color: var(--dark-gray);
}

.replay-button {
width: 40px;
height: 40px;
border-radius: 50%;
background-color: var(--accent);
color: white;
display: flex;
align-items: center;
justify-content: center;
cursor: pointer;
border: none;
transition: var(--transition);
}

.replay-button:hover {
background-color: #2980b9;
}

.replay-button.secondary {
background-color: rgba(0, 0, 0, 0.05);
color: var(--dark-gray);
}

.dark-theme .replay-button.secondary {
background-color: rgba(255, 255, 255, 0.1);
color: rgba(255, 255, 255, 0.9);
}

.replay-button.secondary:hover {
background-color: rgba(0, 0, 0, 0.1);
}

.dark-theme .replay-button.secondary:hover {
background-color: rgba(255, 255, 255, 0.15);
}

.replay-timeline {
flex: